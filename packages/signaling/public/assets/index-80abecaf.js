import{r as e,a as t,R as n}from"./vendor-3a2ed96f.js";import{x as r,a as s}from"./terminal-3fa6e983.js";import{W as i,a,P as o,L as c,S as u,C as l,A as d,b as p,M as h,c as m,d as f}from"./ui-d9e14c5d.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver(e=>{for(const n of e)if("childList"===n.type)for(const e of n.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)}).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();var g={exports:{}},b={};!function(){var t=e,n=Symbol.for("react.element"),r=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),c=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),d=Symbol.for("react.suspense_list"),p=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),m=Symbol.for("react.offscreen"),f=Symbol.iterator;var g=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function v(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];!function(e,t,n){var r=g.ReactDebugCurrentFrame,s=r.getStackAddendum();""!==s&&(t+="%s",n=n.concat([s]));var i=n.map(function(e){return String(e)});i.unshift("Warning: "+t),Function.prototype.apply.call(console[e],console,i)}("error",e,n)}var y;function x(e){return e.displayName||"Context"}function w(e){if(null==e)return null;if("number"==typeof e.tag&&v("Received an unexpected object in getComponentNameFromType(). This is likely a bug in React. Please file an issue."),"function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case s:return"Fragment";case r:return"Portal";case a:return"Profiler";case i:return"StrictMode";case l:return"Suspense";case d:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case c:return x(e)+".Consumer";case o:return x(e._context)+".Provider";case u:return function(e,t,n){var r=e.displayName;if(r)return r;var s=t.displayName||t.name||"";return""!==s?n+"("+s+")":n}(e,e.render,"ForwardRef");case p:var t=e.displayName||null;return null!==t?t:w(e.type)||"Memo";case h:var n=e,m=n._payload,f=n._init;try{return w(f(m))}catch(g){return null}}return null}y=Symbol.for("react.module.reference");var N,_,k,E,T,C,A,j=Object.assign,S=0;function I(){}I.__reactDisabledLog=!0;var R,D=g.ReactCurrentDispatcher;function O(e,t,n){if(void 0===R)try{throw Error()}catch(s){var r=s.stack.trim().match(/\n( *(at )?)/);R=r&&r[1]||""}return"\n"+R+e}var P,V=!1,Z="function"==typeof WeakMap?WeakMap:Map;function $(e,t){if(!e||V)return"";var n,r=P.get(e);if(void 0!==r)return r;V=!0;var s,i=Error.prepareStackTrace;Error.prepareStackTrace=void 0,s=D.current,D.current=null,function(){if(0===S){N=console.log,_=console.info,k=console.warn,E=console.error,T=console.group,C=console.groupCollapsed,A=console.groupEnd;var e={configurable:!0,enumerable:!0,value:I,writable:!0};Object.defineProperties(console,{info:e,log:e,warn:e,error:e,group:e,groupCollapsed:e,groupEnd:e})}S++}();try{if(t){var a=function(){throw Error()};if(Object.defineProperty(a.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(a,[])}catch(m){n=m}Reflect.construct(e,[],a)}else{try{a.call()}catch(m){n=m}e.call(a.prototype)}}else{try{throw Error()}catch(m){n=m}e()}}catch(f){if(f&&n&&"string"==typeof f.stack){for(var o=f.stack.split("\n"),c=n.stack.split("\n"),u=o.length-1,l=c.length-1;u>=1&&l>=0&&o[u]!==c[l];)l--;for(;u>=1&&l>=0;u--,l--)if(o[u]!==c[l]){if(1!==u||1!==l)do{if(u--,--l<0||o[u]!==c[l]){var d="\n"+o[u].replace(" at new "," at ");return e.displayName&&d.includes("<anonymous>")&&(d=d.replace("<anonymous>",e.displayName)),"function"==typeof e&&P.set(e,d),d}}while(u>=1&&l>=0);break}}}finally{V=!1,D.current=s,function(){if(0===--S){var e={configurable:!0,enumerable:!0,writable:!0};Object.defineProperties(console,{log:j({},e,{value:N}),info:j({},e,{value:_}),warn:j({},e,{value:k}),error:j({},e,{value:E}),group:j({},e,{value:T}),groupCollapsed:j({},e,{value:C}),groupEnd:j({},e,{value:A})})}S<0&&v("disabledDepth fell below zero. This is a bug in React. Please file an issue.")}(),Error.prepareStackTrace=i}var p=e?e.displayName||e.name:"",h=p?O(p):"";return"function"==typeof e&&P.set(e,h),h}function M(e,t,n){if(null==e)return"";if("function"==typeof e)return $(e,!(!(r=e.prototype)||!r.isReactComponent));var r;if("string"==typeof e)return O(e);switch(e){case l:return O("Suspense");case d:return O("SuspenseList")}if("object"==typeof e)switch(e.$$typeof){case u:return $(e.render,!1);case p:return M(e.type,t,n);case h:var s=e,i=s._payload,a=s._init;try{return M(a(i),t,n)}catch(o){}}return""}P=new Z;var L=Object.prototype.hasOwnProperty,B={},F=g.ReactDebugCurrentFrame;function U(e){if(e){var t=e._owner,n=M(e.type,e._source,t?t.type:null);F.setExtraStackFrame(n)}else F.setExtraStackFrame(null)}var z=Array.isArray;function K(e){return z(e)}function J(e){return""+e}function W(e){if(function(e){try{return J(e),!1}catch(t){return!0}}(e))return v("The provided key is an unsupported type %s. This value must be coerced to a string before before using it here.",function(e){return"function"==typeof Symbol&&Symbol.toStringTag&&e[Symbol.toStringTag]||e.constructor.name||"Object"}(e)),J(e)}var q,H,Y,Q=g.ReactCurrentOwner,X={key:!0,ref:!0,__self:!0,__source:!0};Y={};function G(e,t,r,s,i){var a,o={},c=null,u=null;for(a in void 0!==r&&(W(r),c=""+r),function(e){if(L.call(e,"key")){var t=Object.getOwnPropertyDescriptor(e,"key").get;if(t&&t.isReactWarning)return!1}return void 0!==e.key}(t)&&(W(t.key),c=""+t.key),function(e){if(L.call(e,"ref")){var t=Object.getOwnPropertyDescriptor(e,"ref").get;if(t&&t.isReactWarning)return!1}return void 0!==e.ref}(t)&&(u=t.ref,function(e,t){if("string"==typeof e.ref&&Q.current&&t&&Q.current.stateNode!==t){var n=w(Q.current.type);Y[n]||(v('Component "%s" contains the string ref "%s". Support for string refs will be removed in a future major release. This case cannot be automatically converted to an arrow function. We ask you to manually fix this case by using useRef() or createRef() instead. Learn more about using refs safely here: https://reactjs.org/link/strict-mode-string-ref',w(Q.current.type),e.ref),Y[n]=!0)}}(t,i)),t)L.call(t,a)&&!X.hasOwnProperty(a)&&(o[a]=t[a]);if(e&&e.defaultProps){var l=e.defaultProps;for(a in l)void 0===o[a]&&(o[a]=l[a])}if(c||u){var d="function"==typeof e?e.displayName||e.name||"Unknown":e;c&&function(e,t){var n=function(){q||(q=!0,v("%s: `key` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)",t))};n.isReactWarning=!0,Object.defineProperty(e,"key",{get:n,configurable:!0})}(o,d),u&&function(e,t){var n=function(){H||(H=!0,v("%s: `ref` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)",t))};n.isReactWarning=!0,Object.defineProperty(e,"ref",{get:n,configurable:!0})}(o,d)}return function(e,t,r,s,i,a,o){var c={$$typeof:n,type:e,key:t,ref:r,props:o,_owner:a,_store:{}};return Object.defineProperty(c._store,"validated",{configurable:!1,enumerable:!1,writable:!0,value:!1}),Object.defineProperty(c,"_self",{configurable:!1,enumerable:!1,writable:!1,value:s}),Object.defineProperty(c,"_source",{configurable:!1,enumerable:!1,writable:!1,value:i}),Object.freeze&&(Object.freeze(c.props),Object.freeze(c)),c}(e,c,u,i,s,Q.current,o)}var ee,te=g.ReactCurrentOwner,ne=g.ReactDebugCurrentFrame;function re(e){if(e){var t=e._owner,n=M(e.type,e._source,t?t.type:null);ne.setExtraStackFrame(n)}else ne.setExtraStackFrame(null)}function se(e){return"object"==typeof e&&null!==e&&e.$$typeof===n}function ie(){if(te.current){var e=w(te.current.type);if(e)return"\n\nCheck the render method of `"+e+"`."}return""}ee=!1;var ae={};function oe(e,t){if(e._store&&!e._store.validated&&null==e.key){e._store.validated=!0;var n=function(e){var t=ie();if(!t){var n="string"==typeof e?e:e.displayName||e.name;n&&(t="\n\nCheck the top-level render call using <"+n+">.")}return t}(t);if(!ae[n]){ae[n]=!0;var r="";e&&e._owner&&e._owner!==te.current&&(r=" It was passed a child from "+w(e._owner.type)+"."),re(e),v('Each child in a list should have a unique "key" prop.%s%s See https://reactjs.org/link/warning-keys for more information.',n,r),re(null)}}}function ce(e,t){if("object"==typeof e)if(K(e))for(var n=0;n<e.length;n++){var r=e[n];se(r)&&oe(r,t)}else if(se(e))e._store&&(e._store.validated=!0);else if(e){var s=function(e){if(null===e||"object"!=typeof e)return null;var t=f&&e[f]||e["@@iterator"];return"function"==typeof t?t:null}(e);if("function"==typeof s&&s!==e.entries)for(var i,a=s.call(e);!(i=a.next()).done;)se(i.value)&&oe(i.value,t)}}function ue(e){var t,n=e.type;if(null!=n&&"string"!=typeof n){if("function"==typeof n)t=n.propTypes;else{if("object"!=typeof n||n.$$typeof!==u&&n.$$typeof!==p)return;t=n.propTypes}if(t){var r=w(n);!function(e,t,n,r,s){var i=Function.call.bind(L);for(var a in e)if(i(e,a)){var o=void 0;try{if("function"!=typeof e[a]){var c=Error((r||"React class")+": "+n+" type `"+a+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+typeof e[a]+"`.This often happens because of typos such as `PropTypes.function` instead of `PropTypes.func`.");throw c.name="Invariant Violation",c}o=e[a](t,a,r,n,null,"SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED")}catch(u){o=u}!o||o instanceof Error||(U(s),v("%s: type specification of %s `%s` is invalid; the type checker function must return `null` or an `Error` but returned a %s. You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument).",r||"React class",n,a,typeof o),U(null)),o instanceof Error&&!(o.message in B)&&(B[o.message]=!0,U(s),v("Failed %s type: %s",n,o.message),U(null))}}(t,e.props,"prop",r,e)}else if(void 0!==n.PropTypes&&!ee){ee=!0,v("Component %s declared `PropTypes` instead of `propTypes`. Did you misspell the property assignment?",w(n)||"Unknown")}"function"!=typeof n.getDefaultProps||n.getDefaultProps.isReactClassApproved||v("getDefaultProps is only used on classic React.createClass definitions. Use a static property named `defaultProps` instead.")}}var le={};var de=function(e,t,r,f,g,b){var x=function(e){return"string"==typeof e||"function"==typeof e||e===s||e===a||e===i||e===l||e===d||e===m||"object"==typeof e&&null!==e&&(e.$$typeof===h||e.$$typeof===p||e.$$typeof===o||e.$$typeof===c||e.$$typeof===u||e.$$typeof===y||void 0!==e.getModuleId)}(e);if(!x){var N="";(void 0===e||"object"==typeof e&&null!==e&&0===Object.keys(e).length)&&(N+=" You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.");var _,k=function(e){return void 0!==e?"\n\nCheck your code at "+e.fileName.replace(/^.*[\\\/]/,"")+":"+e.lineNumber+".":""}(g);N+=k||ie(),null===e?_="null":K(e)?_="array":void 0!==e&&e.$$typeof===n?(_="<"+(w(e.type)||"Unknown")+" />",N=" Did you accidentally export a JSX literal instead of a component?"):_=typeof e,v("React.jsx: type is invalid -- expected a string (for built-in components) or a class/function (for composite components) but got: %s.%s",_,N)}var E=G(e,t,r,g,b);if(null==E)return E;if(x){var T=t.children;if(void 0!==T)if(f)if(K(T)){for(var C=0;C<T.length;C++)ce(T[C],e);Object.freeze&&Object.freeze(T)}else v("React.jsx: Static children should always be an array. You are likely explicitly calling React.jsxs or React.jsxDEV. Use the Babel transform instead.");else ce(T,e)}if(L.call(t,"key")){var A=w(e),j=Object.keys(t).filter(function(e){return"key"!==e}),S=j.length>0?"{key: someKey, "+j.join(": ..., ")+": ...}":"{key: someKey}";if(!le[A+S])v('A props object containing a "key" prop is being spread into JSX:\n  let props = %s;\n  <%s {...props} />\nReact keys must be passed directly to JSX without using spread:\n  let props = %s;\n  <%s key={someKey} {...props} />',S,A,j.length>0?"{"+j.join(": ..., ")+": ...}":"{}",A),le[A+S]=!0}return e===s?function(e){for(var t=Object.keys(e.props),n=0;n<t.length;n++){var r=t[n];if("children"!==r&&"key"!==r){re(e),v("Invalid prop `%s` supplied to `React.Fragment`. React.Fragment can only have `key` and `children` props.",r),re(null);break}}null!==e.ref&&(re(e),v("Invalid attribute `ref` supplied to `React.Fragment`."),re(null))}(E):ue(E),E};b.Fragment=s,b.jsxDEV=de}(),g.exports=b;var v,y,x=g.exports,w={},N=t,_=N.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;w.createRoot=function(e,t){_.usingClientEntryPoint=!0;try{return N.createRoot(e,t)}finally{_.usingClientEntryPoint=!1}},w.hydrateRoot=function(e,t,n){_.usingClientEntryPoint=!0;try{return N.hydrateRoot(e,t,n)}finally{_.usingClientEntryPoint=!1}},function(e){e.assertEqual=e=>{},e.assertIs=function(e){},e.assertNever=function(e){throw new Error},e.arrayToEnum=e=>{const t={};for(const n of e)t[n]=n;return t},e.getValidEnumValues=t=>{const n=e.objectKeys(t).filter(e=>"number"!=typeof t[t[e]]),r={};for(const e of n)r[e]=t[e];return e.objectValues(r)},e.objectValues=t=>e.objectKeys(t).map(function(e){return t[e]}),e.objectKeys="function"==typeof Object.keys?e=>Object.keys(e):e=>{const t=[];for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.push(n);return t},e.find=(e,t)=>{for(const n of e)if(t(n))return n},e.isInteger="function"==typeof Number.isInteger?e=>Number.isInteger(e):e=>"number"==typeof e&&Number.isFinite(e)&&Math.floor(e)===e,e.joinValues=function(e,t=" | "){return e.map(e=>"string"==typeof e?`'${e}'`:e).join(t)},e.jsonStringifyReplacer=(e,t)=>"bigint"==typeof t?t.toString():t}(v||(v={})),function(e){e.mergeShapes=(e,t)=>({...e,...t})}(y||(y={}));const k=v.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),E=e=>{switch(typeof e){case"undefined":return k.undefined;case"string":return k.string;case"number":return Number.isNaN(e)?k.nan:k.number;case"boolean":return k.boolean;case"function":return k.function;case"bigint":return k.bigint;case"symbol":return k.symbol;case"object":return Array.isArray(e)?k.array:null===e?k.null:e.then&&"function"==typeof e.then&&e.catch&&"function"==typeof e.catch?k.promise:"undefined"!=typeof Map&&e instanceof Map?k.map:"undefined"!=typeof Set&&e instanceof Set?k.set:"undefined"!=typeof Date&&e instanceof Date?k.date:k.object;default:return k.unknown}},T=v.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class C extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=e=>{this.issues=[...this.issues,e]},this.addIssues=(e=[])=>{this.issues=[...this.issues,...e]};const t=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,t):this.__proto__=t,this.name="ZodError",this.issues=e}format(e){const t=e||function(e){return e.message},n={_errors:[]},r=e=>{for(const s of e.issues)if("invalid_union"===s.code)s.unionErrors.map(r);else if("invalid_return_type"===s.code)r(s.returnTypeError);else if("invalid_arguments"===s.code)r(s.argumentsError);else if(0===s.path.length)n._errors.push(t(s));else{let e=n,r=0;for(;r<s.path.length;){const n=s.path[r];r===s.path.length-1?(e[n]=e[n]||{_errors:[]},e[n]._errors.push(t(s))):e[n]=e[n]||{_errors:[]},e=e[n],r++}}};return r(this),n}static assert(e){if(!(e instanceof C))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,v.jsonStringifyReplacer,2)}get isEmpty(){return 0===this.issues.length}flatten(e=e=>e.message){const t={},n=[];for(const r of this.issues)if(r.path.length>0){const n=r.path[0];t[n]=t[n]||[],t[n].push(e(r))}else n.push(e(r));return{formErrors:n,fieldErrors:t}}get formErrors(){return this.flatten()}}C.create=e=>new C(e);const A=(e,t)=>{let n;switch(e.code){case T.invalid_type:n=e.received===k.undefined?"Required":`Expected ${e.expected}, received ${e.received}`;break;case T.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(e.expected,v.jsonStringifyReplacer)}`;break;case T.unrecognized_keys:n=`Unrecognized key(s) in object: ${v.joinValues(e.keys,", ")}`;break;case T.invalid_union:n="Invalid input";break;case T.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${v.joinValues(e.options)}`;break;case T.invalid_enum_value:n=`Invalid enum value. Expected ${v.joinValues(e.options)}, received '${e.received}'`;break;case T.invalid_arguments:n="Invalid function arguments";break;case T.invalid_return_type:n="Invalid function return type";break;case T.invalid_date:n="Invalid date";break;case T.invalid_string:"object"==typeof e.validation?"includes"in e.validation?(n=`Invalid input: must include "${e.validation.includes}"`,"number"==typeof e.validation.position&&(n=`${n} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?n=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?n=`Invalid input: must end with "${e.validation.endsWith}"`:v.assertNever(e.validation):n="regex"!==e.validation?`Invalid ${e.validation}`:"Invalid";break;case T.too_small:n="array"===e.type?`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:"string"===e.type?`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:"number"===e.type||"bigint"===e.type?`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:"date"===e.type?`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:"Invalid input";break;case T.too_big:n="array"===e.type?`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:"string"===e.type?`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:"number"===e.type?`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:"bigint"===e.type?`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:"date"===e.type?`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:"Invalid input";break;case T.custom:n="Invalid input";break;case T.invalid_intersection_types:n="Intersection results could not be merged";break;case T.not_multiple_of:n=`Number must be a multiple of ${e.multipleOf}`;break;case T.not_finite:n="Number must be finite";break;default:n=t.defaultError,v.assertNever(e)}return{message:n}};let j=A;function S(e,t){const n=j,r=(e=>{const{data:t,path:n,errorMaps:r,issueData:s}=e,i=[...n,...s.path||[]],a={...s,path:i};if(void 0!==s.message)return{...s,path:i,message:s.message};let o="";const c=r.filter(e=>!!e).slice().reverse();for(const u of c)o=u(a,{data:t,defaultError:o}).message;return{...s,path:i,message:o}})({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,n,n===A?void 0:A].filter(e=>!!e)});e.common.issues.push(r)}class I{constructor(){this.value="valid"}dirty(){"valid"===this.value&&(this.value="dirty")}abort(){"aborted"!==this.value&&(this.value="aborted")}static mergeArray(e,t){const n=[];for(const r of t){if("aborted"===r.status)return R;"dirty"===r.status&&e.dirty(),n.push(r.value)}return{status:e.value,value:n}}static async mergeObjectAsync(e,t){const n=[];for(const r of t){const e=await r.key,t=await r.value;n.push({key:e,value:t})}return I.mergeObjectSync(e,n)}static mergeObjectSync(e,t){const n={};for(const r of t){const{key:t,value:s}=r;if("aborted"===t.status)return R;if("aborted"===s.status)return R;"dirty"===t.status&&e.dirty(),"dirty"===s.status&&e.dirty(),"__proto__"===t.value||void 0===s.value&&!r.alwaysSet||(n[t.value]=s.value)}return{status:e.value,value:n}}}const R=Object.freeze({status:"aborted"}),D=e=>({status:"dirty",value:e}),O=e=>({status:"valid",value:e}),P=e=>"aborted"===e.status,V=e=>"dirty"===e.status,Z=e=>"valid"===e.status,$=e=>"undefined"!=typeof Promise&&e instanceof Promise;var M;!function(e){e.errToObj=e=>"string"==typeof e?{message:e}:e||{},e.toString=e=>"string"==typeof e?e:e?.message}(M||(M={}));class L{constructor(e,t,n,r){this._cachedPath=[],this.parent=e,this.data=t,this._path=n,this._key=r}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const B=(e,t)=>{if(Z(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const t=new C(e.common.issues);return this._error=t,this._error}}};function F(e){if(!e)return{};const{errorMap:t,invalid_type_error:n,required_error:r,description:s}=e;if(t&&(n||r))throw new Error('Can\'t use "invalid_type_error" or "required_error" in conjunction with custom error map.');if(t)return{errorMap:t,description:s};return{errorMap:(t,s)=>{const{message:i}=e;return"invalid_enum_value"===t.code?{message:i??s.defaultError}:void 0===s.data?{message:i??r??s.defaultError}:"invalid_type"!==t.code?{message:s.defaultError}:{message:i??n??s.defaultError}},description:s}}class U{get description(){return this._def.description}_getType(e){return E(e.data)}_getOrReturnCtx(e,t){return t||{common:e.parent.common,data:e.data,parsedType:E(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new I,ctx:{common:e.parent.common,data:e.data,parsedType:E(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const t=this._parse(e);if($(t))throw new Error("Synchronous parse encountered promise.");return t}_parseAsync(e){const t=this._parse(e);return Promise.resolve(t)}parse(e,t){const n=this.safeParse(e,t);if(n.success)return n.data;throw n.error}safeParse(e,t){const n={common:{issues:[],async:t?.async??!1,contextualErrorMap:t?.errorMap},path:t?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:E(e)},r=this._parseSync({data:e,path:n.path,parent:n});return B(n,r)}"~validate"(e){const t={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:E(e)};if(!this["~standard"].async)try{const n=this._parseSync({data:e,path:[],parent:t});return Z(n)?{value:n.value}:{issues:t.common.issues}}catch(n){n?.message?.toLowerCase()?.includes("encountered")&&(this["~standard"].async=!0),t.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:t}).then(e=>Z(e)?{value:e.value}:{issues:t.common.issues})}async parseAsync(e,t){const n=await this.safeParseAsync(e,t);if(n.success)return n.data;throw n.error}async safeParseAsync(e,t){const n={common:{issues:[],contextualErrorMap:t?.errorMap,async:!0},path:t?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:E(e)},r=this._parse({data:e,path:n.path,parent:n}),s=await($(r)?r:Promise.resolve(r));return B(n,s)}refine(e,t){const n=e=>"string"==typeof t||void 0===t?{message:t}:"function"==typeof t?t(e):t;return this._refinement((t,r)=>{const s=e(t),i=()=>r.addIssue({code:T.custom,...n(t)});return"undefined"!=typeof Promise&&s instanceof Promise?s.then(e=>!!e||(i(),!1)):!!s||(i(),!1)})}refinement(e,t){return this._refinement((n,r)=>!!e(n)||(r.addIssue("function"==typeof t?t(n,r):t),!1))}_refinement(e){return new Be({schema:this,typeName:Ye.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:e=>this["~validate"](e)}}optional(){return Fe.create(this,this._def)}nullable(){return Ue.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Te.create(this)}promise(){return Le.create(this,this._def)}or(e){return je.create([this,e],this._def)}and(e){return Ie.create(this,e,this._def)}transform(e){return new Be({...F(this._def),schema:this,typeName:Ye.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const t="function"==typeof e?e:()=>e;return new ze({...F(this._def),innerType:this,defaultValue:t,typeName:Ye.ZodDefault})}brand(){return new We({typeName:Ye.ZodBranded,type:this,...F(this._def)})}catch(e){const t="function"==typeof e?e:()=>e;return new Ke({...F(this._def),innerType:this,catchValue:t,typeName:Ye.ZodCatch})}describe(e){return new(0,this.constructor)({...this._def,description:e})}pipe(e){return qe.create(this,e)}readonly(){return He.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const z=/^c[^\s-]{8,}$/i,K=/^[0-9a-z]+$/,J=/^[0-9A-HJKMNP-TV-Z]{26}$/i,W=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,q=/^[a-z0-9_-]{21}$/i,H=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,Y=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,Q=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i;let X;const G=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,ee=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,te=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,ne=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,re=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,se=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,ie="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",ae=new RegExp(`^${ie}$`);function oe(e){let t="[0-5]\\d";e.precision?t=`${t}\\.\\d{${e.precision}}`:null==e.precision&&(t=`${t}(\\.\\d+)?`);return`([01]\\d|2[0-3]):[0-5]\\d(:${t})${e.precision?"+":"?"}`}function ce(e){return new RegExp(`^${oe(e)}$`)}function ue(e){let t=`${ie}T${oe(e)}`;const n=[];return n.push(e.local?"Z?":"Z"),e.offset&&n.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${n.join("|")})`,new RegExp(`^${t}$`)}function le(e,t){return!("v4"!==t&&t||!G.test(e))||!("v6"!==t&&t||!te.test(e))}function de(e,t){if(!H.test(e))return!1;try{const[n]=e.split(".");if(!n)return!1;const r=n.replace(/-/g,"+").replace(/_/g,"/").padEnd(n.length+(4-n.length%4)%4,"="),s=JSON.parse(atob(r));return"object"==typeof s&&null!==s&&((!("typ"in s)||"JWT"===s?.typ)&&(!!s.alg&&(!t||s.alg===t)))}catch{return!1}}function pe(e,t){return!("v4"!==t&&t||!ee.test(e))||!("v6"!==t&&t||!ne.test(e))}class he extends U{_parse(e){this._def.coerce&&(e.data=String(e.data));if(this._getType(e)!==k.string){const t=this._getOrReturnCtx(e);return S(t,{code:T.invalid_type,expected:k.string,received:t.parsedType}),R}const t=new I;let n;for(const r of this._def.checks)if("min"===r.kind)e.data.length<r.value&&(n=this._getOrReturnCtx(e,n),S(n,{code:T.too_small,minimum:r.value,type:"string",inclusive:!0,exact:!1,message:r.message}),t.dirty());else if("max"===r.kind)e.data.length>r.value&&(n=this._getOrReturnCtx(e,n),S(n,{code:T.too_big,maximum:r.value,type:"string",inclusive:!0,exact:!1,message:r.message}),t.dirty());else if("length"===r.kind){const s=e.data.length>r.value,i=e.data.length<r.value;(s||i)&&(n=this._getOrReturnCtx(e,n),s?S(n,{code:T.too_big,maximum:r.value,type:"string",inclusive:!0,exact:!0,message:r.message}):i&&S(n,{code:T.too_small,minimum:r.value,type:"string",inclusive:!0,exact:!0,message:r.message}),t.dirty())}else if("email"===r.kind)Q.test(e.data)||(n=this._getOrReturnCtx(e,n),S(n,{validation:"email",code:T.invalid_string,message:r.message}),t.dirty());else if("emoji"===r.kind)X||(X=new RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")),X.test(e.data)||(n=this._getOrReturnCtx(e,n),S(n,{validation:"emoji",code:T.invalid_string,message:r.message}),t.dirty());else if("uuid"===r.kind)W.test(e.data)||(n=this._getOrReturnCtx(e,n),S(n,{validation:"uuid",code:T.invalid_string,message:r.message}),t.dirty());else if("nanoid"===r.kind)q.test(e.data)||(n=this._getOrReturnCtx(e,n),S(n,{validation:"nanoid",code:T.invalid_string,message:r.message}),t.dirty());else if("cuid"===r.kind)z.test(e.data)||(n=this._getOrReturnCtx(e,n),S(n,{validation:"cuid",code:T.invalid_string,message:r.message}),t.dirty());else if("cuid2"===r.kind)K.test(e.data)||(n=this._getOrReturnCtx(e,n),S(n,{validation:"cuid2",code:T.invalid_string,message:r.message}),t.dirty());else if("ulid"===r.kind)J.test(e.data)||(n=this._getOrReturnCtx(e,n),S(n,{validation:"ulid",code:T.invalid_string,message:r.message}),t.dirty());else if("url"===r.kind)try{new URL(e.data)}catch{n=this._getOrReturnCtx(e,n),S(n,{validation:"url",code:T.invalid_string,message:r.message}),t.dirty()}else if("regex"===r.kind){r.regex.lastIndex=0;r.regex.test(e.data)||(n=this._getOrReturnCtx(e,n),S(n,{validation:"regex",code:T.invalid_string,message:r.message}),t.dirty())}else if("trim"===r.kind)e.data=e.data.trim();else if("includes"===r.kind)e.data.includes(r.value,r.position)||(n=this._getOrReturnCtx(e,n),S(n,{code:T.invalid_string,validation:{includes:r.value,position:r.position},message:r.message}),t.dirty());else if("toLowerCase"===r.kind)e.data=e.data.toLowerCase();else if("toUpperCase"===r.kind)e.data=e.data.toUpperCase();else if("startsWith"===r.kind)e.data.startsWith(r.value)||(n=this._getOrReturnCtx(e,n),S(n,{code:T.invalid_string,validation:{startsWith:r.value},message:r.message}),t.dirty());else if("endsWith"===r.kind)e.data.endsWith(r.value)||(n=this._getOrReturnCtx(e,n),S(n,{code:T.invalid_string,validation:{endsWith:r.value},message:r.message}),t.dirty());else if("datetime"===r.kind){ue(r).test(e.data)||(n=this._getOrReturnCtx(e,n),S(n,{code:T.invalid_string,validation:"datetime",message:r.message}),t.dirty())}else if("date"===r.kind){ae.test(e.data)||(n=this._getOrReturnCtx(e,n),S(n,{code:T.invalid_string,validation:"date",message:r.message}),t.dirty())}else if("time"===r.kind){ce(r).test(e.data)||(n=this._getOrReturnCtx(e,n),S(n,{code:T.invalid_string,validation:"time",message:r.message}),t.dirty())}else"duration"===r.kind?Y.test(e.data)||(n=this._getOrReturnCtx(e,n),S(n,{validation:"duration",code:T.invalid_string,message:r.message}),t.dirty()):"ip"===r.kind?le(e.data,r.version)||(n=this._getOrReturnCtx(e,n),S(n,{validation:"ip",code:T.invalid_string,message:r.message}),t.dirty()):"jwt"===r.kind?de(e.data,r.alg)||(n=this._getOrReturnCtx(e,n),S(n,{validation:"jwt",code:T.invalid_string,message:r.message}),t.dirty()):"cidr"===r.kind?pe(e.data,r.version)||(n=this._getOrReturnCtx(e,n),S(n,{validation:"cidr",code:T.invalid_string,message:r.message}),t.dirty()):"base64"===r.kind?re.test(e.data)||(n=this._getOrReturnCtx(e,n),S(n,{validation:"base64",code:T.invalid_string,message:r.message}),t.dirty()):"base64url"===r.kind?se.test(e.data)||(n=this._getOrReturnCtx(e,n),S(n,{validation:"base64url",code:T.invalid_string,message:r.message}),t.dirty()):v.assertNever(r);return{status:t.value,value:e.data}}_regex(e,t,n){return this.refinement(t=>e.test(t),{validation:t,code:T.invalid_string,...M.errToObj(n)})}_addCheck(e){return new he({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...M.errToObj(e)})}url(e){return this._addCheck({kind:"url",...M.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...M.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...M.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...M.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...M.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...M.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...M.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...M.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...M.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...M.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...M.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...M.errToObj(e)})}datetime(e){return"string"==typeof e?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:void 0===e?.precision?null:e?.precision,offset:e?.offset??!1,local:e?.local??!1,...M.errToObj(e?.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return"string"==typeof e?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:void 0===e?.precision?null:e?.precision,...M.errToObj(e?.message)})}duration(e){return this._addCheck({kind:"duration",...M.errToObj(e)})}regex(e,t){return this._addCheck({kind:"regex",regex:e,...M.errToObj(t)})}includes(e,t){return this._addCheck({kind:"includes",value:e,position:t?.position,...M.errToObj(t?.message)})}startsWith(e,t){return this._addCheck({kind:"startsWith",value:e,...M.errToObj(t)})}endsWith(e,t){return this._addCheck({kind:"endsWith",value:e,...M.errToObj(t)})}min(e,t){return this._addCheck({kind:"min",value:e,...M.errToObj(t)})}max(e,t){return this._addCheck({kind:"max",value:e,...M.errToObj(t)})}length(e,t){return this._addCheck({kind:"length",value:e,...M.errToObj(t)})}nonempty(e){return this.min(1,M.errToObj(e))}trim(){return new he({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new he({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new he({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>"datetime"===e.kind)}get isDate(){return!!this._def.checks.find(e=>"date"===e.kind)}get isTime(){return!!this._def.checks.find(e=>"time"===e.kind)}get isDuration(){return!!this._def.checks.find(e=>"duration"===e.kind)}get isEmail(){return!!this._def.checks.find(e=>"email"===e.kind)}get isURL(){return!!this._def.checks.find(e=>"url"===e.kind)}get isEmoji(){return!!this._def.checks.find(e=>"emoji"===e.kind)}get isUUID(){return!!this._def.checks.find(e=>"uuid"===e.kind)}get isNANOID(){return!!this._def.checks.find(e=>"nanoid"===e.kind)}get isCUID(){return!!this._def.checks.find(e=>"cuid"===e.kind)}get isCUID2(){return!!this._def.checks.find(e=>"cuid2"===e.kind)}get isULID(){return!!this._def.checks.find(e=>"ulid"===e.kind)}get isIP(){return!!this._def.checks.find(e=>"ip"===e.kind)}get isCIDR(){return!!this._def.checks.find(e=>"cidr"===e.kind)}get isBase64(){return!!this._def.checks.find(e=>"base64"===e.kind)}get isBase64url(){return!!this._def.checks.find(e=>"base64url"===e.kind)}get minLength(){let e=null;for(const t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxLength(){let e=null;for(const t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}}function me(e,t){const n=(e.toString().split(".")[1]||"").length,r=(t.toString().split(".")[1]||"").length,s=n>r?n:r;return Number.parseInt(e.toFixed(s).replace(".",""))%Number.parseInt(t.toFixed(s).replace(".",""))/10**s}he.create=e=>new he({checks:[],typeName:Ye.ZodString,coerce:e?.coerce??!1,...F(e)});class fe extends U{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){this._def.coerce&&(e.data=Number(e.data));if(this._getType(e)!==k.number){const t=this._getOrReturnCtx(e);return S(t,{code:T.invalid_type,expected:k.number,received:t.parsedType}),R}let t;const n=new I;for(const r of this._def.checks)if("int"===r.kind)v.isInteger(e.data)||(t=this._getOrReturnCtx(e,t),S(t,{code:T.invalid_type,expected:"integer",received:"float",message:r.message}),n.dirty());else if("min"===r.kind){(r.inclusive?e.data<r.value:e.data<=r.value)&&(t=this._getOrReturnCtx(e,t),S(t,{code:T.too_small,minimum:r.value,type:"number",inclusive:r.inclusive,exact:!1,message:r.message}),n.dirty())}else if("max"===r.kind){(r.inclusive?e.data>r.value:e.data>=r.value)&&(t=this._getOrReturnCtx(e,t),S(t,{code:T.too_big,maximum:r.value,type:"number",inclusive:r.inclusive,exact:!1,message:r.message}),n.dirty())}else"multipleOf"===r.kind?0!==me(e.data,r.value)&&(t=this._getOrReturnCtx(e,t),S(t,{code:T.not_multiple_of,multipleOf:r.value,message:r.message}),n.dirty()):"finite"===r.kind?Number.isFinite(e.data)||(t=this._getOrReturnCtx(e,t),S(t,{code:T.not_finite,message:r.message}),n.dirty()):v.assertNever(r);return{status:n.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,M.toString(t))}gt(e,t){return this.setLimit("min",e,!1,M.toString(t))}lte(e,t){return this.setLimit("max",e,!0,M.toString(t))}lt(e,t){return this.setLimit("max",e,!1,M.toString(t))}setLimit(e,t,n,r){return new fe({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:n,message:M.toString(r)}]})}_addCheck(e){return new fe({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:M.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:M.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:M.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:M.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:M.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:M.toString(t)})}finite(e){return this._addCheck({kind:"finite",message:M.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:M.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:M.toString(e)})}get minValue(){let e=null;for(const t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}get isInt(){return!!this._def.checks.find(e=>"int"===e.kind||"multipleOf"===e.kind&&v.isInteger(e.value))}get isFinite(){let e=null,t=null;for(const n of this._def.checks){if("finite"===n.kind||"int"===n.kind||"multipleOf"===n.kind)return!0;"min"===n.kind?(null===t||n.value>t)&&(t=n.value):"max"===n.kind&&(null===e||n.value<e)&&(e=n.value)}return Number.isFinite(t)&&Number.isFinite(e)}}fe.create=e=>new fe({checks:[],typeName:Ye.ZodNumber,coerce:e?.coerce||!1,...F(e)});class ge extends U{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==k.bigint)return this._getInvalidInput(e);let t;const n=new I;for(const r of this._def.checks)if("min"===r.kind){(r.inclusive?e.data<r.value:e.data<=r.value)&&(t=this._getOrReturnCtx(e,t),S(t,{code:T.too_small,type:"bigint",minimum:r.value,inclusive:r.inclusive,message:r.message}),n.dirty())}else if("max"===r.kind){(r.inclusive?e.data>r.value:e.data>=r.value)&&(t=this._getOrReturnCtx(e,t),S(t,{code:T.too_big,type:"bigint",maximum:r.value,inclusive:r.inclusive,message:r.message}),n.dirty())}else"multipleOf"===r.kind?e.data%r.value!==BigInt(0)&&(t=this._getOrReturnCtx(e,t),S(t,{code:T.not_multiple_of,multipleOf:r.value,message:r.message}),n.dirty()):v.assertNever(r);return{status:n.value,value:e.data}}_getInvalidInput(e){const t=this._getOrReturnCtx(e);return S(t,{code:T.invalid_type,expected:k.bigint,received:t.parsedType}),R}gte(e,t){return this.setLimit("min",e,!0,M.toString(t))}gt(e,t){return this.setLimit("min",e,!1,M.toString(t))}lte(e,t){return this.setLimit("max",e,!0,M.toString(t))}lt(e,t){return this.setLimit("max",e,!1,M.toString(t))}setLimit(e,t,n,r){return new ge({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:n,message:M.toString(r)}]})}_addCheck(e){return new ge({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:M.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:M.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:M.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:M.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:M.toString(t)})}get minValue(){let e=null;for(const t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}}ge.create=e=>new ge({checks:[],typeName:Ye.ZodBigInt,coerce:e?.coerce??!1,...F(e)});class be extends U{_parse(e){this._def.coerce&&(e.data=Boolean(e.data));if(this._getType(e)!==k.boolean){const t=this._getOrReturnCtx(e);return S(t,{code:T.invalid_type,expected:k.boolean,received:t.parsedType}),R}return O(e.data)}}be.create=e=>new be({typeName:Ye.ZodBoolean,coerce:e?.coerce||!1,...F(e)});class ve extends U{_parse(e){this._def.coerce&&(e.data=new Date(e.data));if(this._getType(e)!==k.date){const t=this._getOrReturnCtx(e);return S(t,{code:T.invalid_type,expected:k.date,received:t.parsedType}),R}if(Number.isNaN(e.data.getTime())){return S(this._getOrReturnCtx(e),{code:T.invalid_date}),R}const t=new I;let n;for(const r of this._def.checks)"min"===r.kind?e.data.getTime()<r.value&&(n=this._getOrReturnCtx(e,n),S(n,{code:T.too_small,message:r.message,inclusive:!0,exact:!1,minimum:r.value,type:"date"}),t.dirty()):"max"===r.kind?e.data.getTime()>r.value&&(n=this._getOrReturnCtx(e,n),S(n,{code:T.too_big,message:r.message,inclusive:!0,exact:!1,maximum:r.value,type:"date"}),t.dirty()):v.assertNever(r);return{status:t.value,value:new Date(e.data.getTime())}}_addCheck(e){return new ve({...this._def,checks:[...this._def.checks,e]})}min(e,t){return this._addCheck({kind:"min",value:e.getTime(),message:M.toString(t)})}max(e,t){return this._addCheck({kind:"max",value:e.getTime(),message:M.toString(t)})}get minDate(){let e=null;for(const t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return null!=e?new Date(e):null}get maxDate(){let e=null;for(const t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return null!=e?new Date(e):null}}ve.create=e=>new ve({checks:[],coerce:e?.coerce||!1,typeName:Ye.ZodDate,...F(e)});class ye extends U{_parse(e){if(this._getType(e)!==k.symbol){const t=this._getOrReturnCtx(e);return S(t,{code:T.invalid_type,expected:k.symbol,received:t.parsedType}),R}return O(e.data)}}ye.create=e=>new ye({typeName:Ye.ZodSymbol,...F(e)});class xe extends U{_parse(e){if(this._getType(e)!==k.undefined){const t=this._getOrReturnCtx(e);return S(t,{code:T.invalid_type,expected:k.undefined,received:t.parsedType}),R}return O(e.data)}}xe.create=e=>new xe({typeName:Ye.ZodUndefined,...F(e)});class we extends U{_parse(e){if(this._getType(e)!==k.null){const t=this._getOrReturnCtx(e);return S(t,{code:T.invalid_type,expected:k.null,received:t.parsedType}),R}return O(e.data)}}we.create=e=>new we({typeName:Ye.ZodNull,...F(e)});class Ne extends U{constructor(){super(...arguments),this._any=!0}_parse(e){return O(e.data)}}Ne.create=e=>new Ne({typeName:Ye.ZodAny,...F(e)});class _e extends U{constructor(){super(...arguments),this._unknown=!0}_parse(e){return O(e.data)}}_e.create=e=>new _e({typeName:Ye.ZodUnknown,...F(e)});class ke extends U{_parse(e){const t=this._getOrReturnCtx(e);return S(t,{code:T.invalid_type,expected:k.never,received:t.parsedType}),R}}ke.create=e=>new ke({typeName:Ye.ZodNever,...F(e)});class Ee extends U{_parse(e){if(this._getType(e)!==k.undefined){const t=this._getOrReturnCtx(e);return S(t,{code:T.invalid_type,expected:k.void,received:t.parsedType}),R}return O(e.data)}}Ee.create=e=>new Ee({typeName:Ye.ZodVoid,...F(e)});class Te extends U{_parse(e){const{ctx:t,status:n}=this._processInputParams(e),r=this._def;if(t.parsedType!==k.array)return S(t,{code:T.invalid_type,expected:k.array,received:t.parsedType}),R;if(null!==r.exactLength){const e=t.data.length>r.exactLength.value,s=t.data.length<r.exactLength.value;(e||s)&&(S(t,{code:e?T.too_big:T.too_small,minimum:s?r.exactLength.value:void 0,maximum:e?r.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:r.exactLength.message}),n.dirty())}if(null!==r.minLength&&t.data.length<r.minLength.value&&(S(t,{code:T.too_small,minimum:r.minLength.value,type:"array",inclusive:!0,exact:!1,message:r.minLength.message}),n.dirty()),null!==r.maxLength&&t.data.length>r.maxLength.value&&(S(t,{code:T.too_big,maximum:r.maxLength.value,type:"array",inclusive:!0,exact:!1,message:r.maxLength.message}),n.dirty()),t.common.async)return Promise.all([...t.data].map((e,n)=>r.type._parseAsync(new L(t,e,t.path,n)))).then(e=>I.mergeArray(n,e));const s=[...t.data].map((e,n)=>r.type._parseSync(new L(t,e,t.path,n)));return I.mergeArray(n,s)}get element(){return this._def.type}min(e,t){return new Te({...this._def,minLength:{value:e,message:M.toString(t)}})}max(e,t){return new Te({...this._def,maxLength:{value:e,message:M.toString(t)}})}length(e,t){return new Te({...this._def,exactLength:{value:e,message:M.toString(t)}})}nonempty(e){return this.min(1,e)}}function Ce(e){if(e instanceof Ae){const t={};for(const n in e.shape){const r=e.shape[n];t[n]=Fe.create(Ce(r))}return new Ae({...e._def,shape:()=>t})}return e instanceof Te?new Te({...e._def,type:Ce(e.element)}):e instanceof Fe?Fe.create(Ce(e.unwrap())):e instanceof Ue?Ue.create(Ce(e.unwrap())):e instanceof Re?Re.create(e.items.map(e=>Ce(e))):e}Te.create=(e,t)=>new Te({type:e,minLength:null,maxLength:null,exactLength:null,typeName:Ye.ZodArray,...F(t)});class Ae extends U{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(null!==this._cached)return this._cached;const e=this._def.shape(),t=v.objectKeys(e);return this._cached={shape:e,keys:t},this._cached}_parse(e){if(this._getType(e)!==k.object){const t=this._getOrReturnCtx(e);return S(t,{code:T.invalid_type,expected:k.object,received:t.parsedType}),R}const{status:t,ctx:n}=this._processInputParams(e),{shape:r,keys:s}=this._getCached(),i=[];if(!(this._def.catchall instanceof ke&&"strip"===this._def.unknownKeys))for(const o in n.data)s.includes(o)||i.push(o);const a=[];for(const o of s){const e=r[o],t=n.data[o];a.push({key:{status:"valid",value:o},value:e._parse(new L(n,t,n.path,o)),alwaysSet:o in n.data})}if(this._def.catchall instanceof ke){const e=this._def.unknownKeys;if("passthrough"===e)for(const t of i)a.push({key:{status:"valid",value:t},value:{status:"valid",value:n.data[t]}});else if("strict"===e)i.length>0&&(S(n,{code:T.unrecognized_keys,keys:i}),t.dirty());else if("strip"!==e)throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const e=this._def.catchall;for(const t of i){const r=n.data[t];a.push({key:{status:"valid",value:t},value:e._parse(new L(n,r,n.path,t)),alwaysSet:t in n.data})}}return n.common.async?Promise.resolve().then(async()=>{const e=[];for(const t of a){const n=await t.key,r=await t.value;e.push({key:n,value:r,alwaysSet:t.alwaysSet})}return e}).then(e=>I.mergeObjectSync(t,e)):I.mergeObjectSync(t,a)}get shape(){return this._def.shape()}strict(e){return M.errToObj,new Ae({...this._def,unknownKeys:"strict",...void 0!==e?{errorMap:(t,n)=>{const r=this._def.errorMap?.(t,n).message??n.defaultError;return"unrecognized_keys"===t.code?{message:M.errToObj(e).message??r}:{message:r}}}:{}})}strip(){return new Ae({...this._def,unknownKeys:"strip"})}passthrough(){return new Ae({...this._def,unknownKeys:"passthrough"})}extend(e){return new Ae({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new Ae({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:Ye.ZodObject})}setKey(e,t){return this.augment({[e]:t})}catchall(e){return new Ae({...this._def,catchall:e})}pick(e){const t={};for(const n of v.objectKeys(e))e[n]&&this.shape[n]&&(t[n]=this.shape[n]);return new Ae({...this._def,shape:()=>t})}omit(e){const t={};for(const n of v.objectKeys(this.shape))e[n]||(t[n]=this.shape[n]);return new Ae({...this._def,shape:()=>t})}deepPartial(){return Ce(this)}partial(e){const t={};for(const n of v.objectKeys(this.shape)){const r=this.shape[n];e&&!e[n]?t[n]=r:t[n]=r.optional()}return new Ae({...this._def,shape:()=>t})}required(e){const t={};for(const n of v.objectKeys(this.shape))if(e&&!e[n])t[n]=this.shape[n];else{let e=this.shape[n];for(;e instanceof Fe;)e=e._def.innerType;t[n]=e}return new Ae({...this._def,shape:()=>t})}keyof(){return Ze(v.objectKeys(this.shape))}}Ae.create=(e,t)=>new Ae({shape:()=>e,unknownKeys:"strip",catchall:ke.create(),typeName:Ye.ZodObject,...F(t)}),Ae.strictCreate=(e,t)=>new Ae({shape:()=>e,unknownKeys:"strict",catchall:ke.create(),typeName:Ye.ZodObject,...F(t)}),Ae.lazycreate=(e,t)=>new Ae({shape:e,unknownKeys:"strip",catchall:ke.create(),typeName:Ye.ZodObject,...F(t)});class je extends U{_parse(e){const{ctx:t}=this._processInputParams(e),n=this._def.options;if(t.common.async)return Promise.all(n.map(async e=>{const n={...t,common:{...t.common,issues:[]},parent:null};return{result:await e._parseAsync({data:t.data,path:t.path,parent:n}),ctx:n}})).then(function(e){for(const t of e)if("valid"===t.result.status)return t.result;for(const r of e)if("dirty"===r.result.status)return t.common.issues.push(...r.ctx.common.issues),r.result;const n=e.map(e=>new C(e.ctx.common.issues));return S(t,{code:T.invalid_union,unionErrors:n}),R});{let e;const r=[];for(const i of n){const n={...t,common:{...t.common,issues:[]},parent:null},s=i._parseSync({data:t.data,path:t.path,parent:n});if("valid"===s.status)return s;"dirty"!==s.status||e||(e={result:s,ctx:n}),n.common.issues.length&&r.push(n.common.issues)}if(e)return t.common.issues.push(...e.ctx.common.issues),e.result;const s=r.map(e=>new C(e));return S(t,{code:T.invalid_union,unionErrors:s}),R}}get options(){return this._def.options}}function Se(e,t){const n=E(e),r=E(t);if(e===t)return{valid:!0,data:e};if(n===k.object&&r===k.object){const n=v.objectKeys(t),r=v.objectKeys(e).filter(e=>-1!==n.indexOf(e)),s={...e,...t};for(const i of r){const n=Se(e[i],t[i]);if(!n.valid)return{valid:!1};s[i]=n.data}return{valid:!0,data:s}}if(n===k.array&&r===k.array){if(e.length!==t.length)return{valid:!1};const n=[];for(let r=0;r<e.length;r++){const s=Se(e[r],t[r]);if(!s.valid)return{valid:!1};n.push(s.data)}return{valid:!0,data:n}}return n===k.date&&r===k.date&&+e===+t?{valid:!0,data:e}:{valid:!1}}je.create=(e,t)=>new je({options:e,typeName:Ye.ZodUnion,...F(t)});class Ie extends U{_parse(e){const{status:t,ctx:n}=this._processInputParams(e),r=(e,r)=>{if(P(e)||P(r))return R;const s=Se(e.value,r.value);return s.valid?((V(e)||V(r))&&t.dirty(),{status:t.value,value:s.data}):(S(n,{code:T.invalid_intersection_types}),R)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([e,t])=>r(e,t)):r(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}Ie.create=(e,t,n)=>new Ie({left:e,right:t,typeName:Ye.ZodIntersection,...F(n)});class Re extends U{_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==k.array)return S(n,{code:T.invalid_type,expected:k.array,received:n.parsedType}),R;if(n.data.length<this._def.items.length)return S(n,{code:T.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),R;!this._def.rest&&n.data.length>this._def.items.length&&(S(n,{code:T.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),t.dirty());const r=[...n.data].map((e,t)=>{const r=this._def.items[t]||this._def.rest;return r?r._parse(new L(n,e,n.path,t)):null}).filter(e=>!!e);return n.common.async?Promise.all(r).then(e=>I.mergeArray(t,e)):I.mergeArray(t,r)}get items(){return this._def.items}rest(e){return new Re({...this._def,rest:e})}}Re.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Re({items:e,typeName:Ye.ZodTuple,rest:null,...F(t)})};class De extends U{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==k.map)return S(n,{code:T.invalid_type,expected:k.map,received:n.parsedType}),R;const r=this._def.keyType,s=this._def.valueType,i=[...n.data.entries()].map(([e,t],i)=>({key:r._parse(new L(n,e,n.path,[i,"key"])),value:s._parse(new L(n,t,n.path,[i,"value"]))}));if(n.common.async){const e=new Map;return Promise.resolve().then(async()=>{for(const n of i){const r=await n.key,s=await n.value;if("aborted"===r.status||"aborted"===s.status)return R;"dirty"!==r.status&&"dirty"!==s.status||t.dirty(),e.set(r.value,s.value)}return{status:t.value,value:e}})}{const e=new Map;for(const n of i){const r=n.key,s=n.value;if("aborted"===r.status||"aborted"===s.status)return R;"dirty"!==r.status&&"dirty"!==s.status||t.dirty(),e.set(r.value,s.value)}return{status:t.value,value:e}}}}De.create=(e,t,n)=>new De({valueType:t,keyType:e,typeName:Ye.ZodMap,...F(n)});class Oe extends U{_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==k.set)return S(n,{code:T.invalid_type,expected:k.set,received:n.parsedType}),R;const r=this._def;null!==r.minSize&&n.data.size<r.minSize.value&&(S(n,{code:T.too_small,minimum:r.minSize.value,type:"set",inclusive:!0,exact:!1,message:r.minSize.message}),t.dirty()),null!==r.maxSize&&n.data.size>r.maxSize.value&&(S(n,{code:T.too_big,maximum:r.maxSize.value,type:"set",inclusive:!0,exact:!1,message:r.maxSize.message}),t.dirty());const s=this._def.valueType;function i(e){const n=new Set;for(const r of e){if("aborted"===r.status)return R;"dirty"===r.status&&t.dirty(),n.add(r.value)}return{status:t.value,value:n}}const a=[...n.data.values()].map((e,t)=>s._parse(new L(n,e,n.path,t)));return n.common.async?Promise.all(a).then(e=>i(e)):i(a)}min(e,t){return new Oe({...this._def,minSize:{value:e,message:M.toString(t)}})}max(e,t){return new Oe({...this._def,maxSize:{value:e,message:M.toString(t)}})}size(e,t){return this.min(e,t).max(e,t)}nonempty(e){return this.min(1,e)}}Oe.create=(e,t)=>new Oe({valueType:e,minSize:null,maxSize:null,typeName:Ye.ZodSet,...F(t)});class Pe extends U{get schema(){return this._def.getter()}_parse(e){const{ctx:t}=this._processInputParams(e);return this._def.getter()._parse({data:t.data,path:t.path,parent:t})}}Pe.create=(e,t)=>new Pe({getter:e,typeName:Ye.ZodLazy,...F(t)});class Ve extends U{_parse(e){if(e.data!==this._def.value){const t=this._getOrReturnCtx(e);return S(t,{received:t.data,code:T.invalid_literal,expected:this._def.value}),R}return{status:"valid",value:e.data}}get value(){return this._def.value}}function Ze(e,t){return new $e({values:e,typeName:Ye.ZodEnum,...F(t)})}Ve.create=(e,t)=>new Ve({value:e,typeName:Ye.ZodLiteral,...F(t)});class $e extends U{_parse(e){if("string"!=typeof e.data){const t=this._getOrReturnCtx(e),n=this._def.values;return S(t,{expected:v.joinValues(n),received:t.parsedType,code:T.invalid_type}),R}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){const t=this._getOrReturnCtx(e),n=this._def.values;return S(t,{received:t.data,code:T.invalid_enum_value,options:n}),R}return O(e.data)}get options(){return this._def.values}get enum(){const e={};for(const t of this._def.values)e[t]=t;return e}get Values(){const e={};for(const t of this._def.values)e[t]=t;return e}get Enum(){const e={};for(const t of this._def.values)e[t]=t;return e}extract(e,t=this._def){return $e.create(e,{...this._def,...t})}exclude(e,t=this._def){return $e.create(this.options.filter(t=>!e.includes(t)),{...this._def,...t})}}$e.create=Ze;class Me extends U{_parse(e){const t=v.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(e);if(n.parsedType!==k.string&&n.parsedType!==k.number){const e=v.objectValues(t);return S(n,{expected:v.joinValues(e),received:n.parsedType,code:T.invalid_type}),R}if(this._cache||(this._cache=new Set(v.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){const e=v.objectValues(t);return S(n,{received:n.data,code:T.invalid_enum_value,options:e}),R}return O(e.data)}get enum(){return this._def.values}}Me.create=(e,t)=>new Me({values:e,typeName:Ye.ZodNativeEnum,...F(t)});class Le extends U{unwrap(){return this._def.type}_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==k.promise&&!1===t.common.async)return S(t,{code:T.invalid_type,expected:k.promise,received:t.parsedType}),R;const n=t.parsedType===k.promise?t.data:Promise.resolve(t.data);return O(n.then(e=>this._def.type.parseAsync(e,{path:t.path,errorMap:t.common.contextualErrorMap})))}}Le.create=(e,t)=>new Le({type:e,typeName:Ye.ZodPromise,...F(t)});class Be extends U{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Ye.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:t,ctx:n}=this._processInputParams(e),r=this._def.effect||null,s={addIssue:e=>{S(n,e),e.fatal?t.abort():t.dirty()},get path(){return n.path}};if(s.addIssue=s.addIssue.bind(s),"preprocess"===r.type){const e=r.transform(n.data,s);if(n.common.async)return Promise.resolve(e).then(async e=>{if("aborted"===t.value)return R;const r=await this._def.schema._parseAsync({data:e,path:n.path,parent:n});return"aborted"===r.status?R:"dirty"===r.status||"dirty"===t.value?D(r.value):r});{if("aborted"===t.value)return R;const r=this._def.schema._parseSync({data:e,path:n.path,parent:n});return"aborted"===r.status?R:"dirty"===r.status||"dirty"===t.value?D(r.value):r}}if("refinement"===r.type){const e=e=>{const t=r.refinement(e,s);if(n.common.async)return Promise.resolve(t);if(t instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return e};if(!1===n.common.async){const r=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return"aborted"===r.status?R:("dirty"===r.status&&t.dirty(),e(r.value),{status:t.value,value:r.value})}return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(n=>"aborted"===n.status?R:("dirty"===n.status&&t.dirty(),e(n.value).then(()=>({status:t.value,value:n.value}))))}if("transform"===r.type){if(!1===n.common.async){const e=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!Z(e))return R;const i=r.transform(e.value,s);if(i instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:t.value,value:i}}return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(e=>Z(e)?Promise.resolve(r.transform(e.value,s)).then(e=>({status:t.value,value:e})):R)}v.assertNever(r)}}Be.create=(e,t,n)=>new Be({schema:e,typeName:Ye.ZodEffects,effect:t,...F(n)}),Be.createWithPreprocess=(e,t,n)=>new Be({schema:t,effect:{type:"preprocess",transform:e},typeName:Ye.ZodEffects,...F(n)});class Fe extends U{_parse(e){return this._getType(e)===k.undefined?O(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Fe.create=(e,t)=>new Fe({innerType:e,typeName:Ye.ZodOptional,...F(t)});class Ue extends U{_parse(e){return this._getType(e)===k.null?O(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Ue.create=(e,t)=>new Ue({innerType:e,typeName:Ye.ZodNullable,...F(t)});class ze extends U{_parse(e){const{ctx:t}=this._processInputParams(e);let n=t.data;return t.parsedType===k.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:t.path,parent:t})}removeDefault(){return this._def.innerType}}ze.create=(e,t)=>new ze({innerType:e,typeName:Ye.ZodDefault,defaultValue:"function"==typeof t.default?t.default:()=>t.default,...F(t)});class Ke extends U{_parse(e){const{ctx:t}=this._processInputParams(e),n={...t,common:{...t.common,issues:[]}},r=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return $(r)?r.then(e=>({status:"valid",value:"valid"===e.status?e.value:this._def.catchValue({get error(){return new C(n.common.issues)},input:n.data})})):{status:"valid",value:"valid"===r.status?r.value:this._def.catchValue({get error(){return new C(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}Ke.create=(e,t)=>new Ke({innerType:e,typeName:Ye.ZodCatch,catchValue:"function"==typeof t.catch?t.catch:()=>t.catch,...F(t)});class Je extends U{_parse(e){if(this._getType(e)!==k.nan){const t=this._getOrReturnCtx(e);return S(t,{code:T.invalid_type,expected:k.nan,received:t.parsedType}),R}return{status:"valid",value:e.data}}}Je.create=e=>new Je({typeName:Ye.ZodNaN,...F(e)});class We extends U{_parse(e){const{ctx:t}=this._processInputParams(e),n=t.data;return this._def.type._parse({data:n,path:t.path,parent:t})}unwrap(){return this._def.type}}class qe extends U{_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.common.async){return(async()=>{const e=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return"aborted"===e.status?R:"dirty"===e.status?(t.dirty(),D(e.value)):this._def.out._parseAsync({data:e.value,path:n.path,parent:n})})()}{const e=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return"aborted"===e.status?R:"dirty"===e.status?(t.dirty(),{status:"dirty",value:e.value}):this._def.out._parseSync({data:e.value,path:n.path,parent:n})}}static create(e,t){return new qe({in:e,out:t,typeName:Ye.ZodPipeline})}}class He extends U{_parse(e){const t=this._def.innerType._parse(e),n=e=>(Z(e)&&(e.value=Object.freeze(e.value)),e);return $(t)?t.then(e=>n(e)):n(t)}unwrap(){return this._def.innerType}}var Ye;He.create=(e,t)=>new He({innerType:e,typeName:Ye.ZodReadonly,...F(t)}),Ae.lazycreate,function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"}(Ye||(Ye={}));const Qe=he.create,Xe=fe.create,Ge=be.create,et=ve.create,tt=Ne.create;ke.create;const nt=Te.create,rt=Ae.create;Ae.strictCreate,je.create,Ie.create,Re.create;const st=Ve.create,it=$e.create;Le.create,Fe.create,Ue.create;const at=rt({icon:Qe(),label:Qe(),command:Qe(),description:Qe().optional()}),ot=rt({name:Qe(),description:Qe().optional(),author:Qe(),version:Qe(),tags:nt(Qe()).optional()});rt({schema:st("vibe-coder-playlist-v1"),metadata:ot,commands:nt(at)}),rt({id:Qe(),hostId:Qe(),clientId:Qe().optional(),status:it(["pending","connecting","connected","disconnected"]),createdAt:et(),updatedAt:et(),expiresAt:et()});const ct=rt({type:st("offer"),sessionId:Qe().optional(),sdp:Qe(),timestamp:Xe().optional()}),ut=rt({type:st("answer"),sessionId:Qe().optional(),sdp:Qe(),timestamp:Xe().optional()}),lt=rt({sessionId:Qe(),candidate:Qe(),timestamp:Xe()});rt({command:Qe(),timestamp:Xe(),sessionId:Qe()}),rt({id:Qe(),output:Qe(),error:Qe().optional(),exitCode:Xe().optional(),timestamp:Xe()}),rt({sessionId:Qe(),totpCode:Qe(),timestamp:Xe()}),rt({sessionId:Qe(),success:Ge(),token:Qe().optional(),timestamp:Xe()}),rt({type:it(["create-session","offer","answer","get-offer","get-answer","candidate","get-candidate"]),sessionId:Qe(),hostId:Qe(),offer:ct.optional(),answer:ut.optional(),candidate:tt().optional()}),rt({success:Ge(),message:Qe().optional(),offer:ct.optional(),answer:ut.optional(),candidates:nt(lt).optional()});const dt=rt({sessionId:Qe(),hostId:Qe(),status:it(["waiting","connected","disconnected"]),createdAt:Xe(),connectedClients:Xe()});rt({success:Ge(),message:Qe().optional(),sessionInfo:dt.optional()});const pt={name:"Claude Code Essentials",description:"Essential commands for Claude Code development",author:"Claude Team",version:"1.0.0",tags:["claude-code","development","essential"]},ht=[{icon:"🐛",label:"Fix Bug",command:"find and fix the bug in this code",description:"Analyze and fix bugs in the current codebase"},{icon:"📱",label:"Mobile",command:"make this responsive for mobile devices",description:"Optimize the UI for mobile devices"},{icon:"🧪",label:"Test",command:"write unit tests for this component",description:"Generate comprehensive unit tests"},{icon:"🎨",label:"Style",command:"improve the UI design and styling",description:"Enhance the visual design and user experience"},{icon:"⚡",label:"Optimize",command:"optimize performance and loading speed",description:"Improve application performance"},{icon:"📝",label:"Docs",command:"add documentation and comments",description:"Generate documentation and code comments"},{icon:"🔄",label:"Refactor",command:"refactor this code for better readability",description:"Improve code structure and maintainability"},{icon:"🌙",label:"Dark Mode",command:"add dark mode support",description:"Implement dark mode theme"},{icon:"📊",label:"API",command:"create a REST API endpoint",description:"Build RESTful API endpoints"}];var mt={},ft={},gt={};let bt;const vt=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];gt.getSymbolSize=function(e){if(!e)throw new Error('"version" cannot be null or undefined');if(e<1||e>40)throw new Error('"version" should be in range from 1 to 40');return 4*e+17},gt.getSymbolTotalCodewords=function(e){return vt[e]},gt.getBCHDigit=function(e){let t=0;for(;0!==e;)t++,e>>>=1;return t},gt.setToSJISFunction=function(e){if("function"!=typeof e)throw new Error('"toSJISFunc" is not a valid function.');bt=e},gt.isKanjiModeEnabled=function(){return void 0!==bt},gt.toSJIS=function(e){return bt(e)};var yt,xt={};function wt(){this.buffer=[],this.length=0}(yt=xt).L={bit:1},yt.M={bit:0},yt.Q={bit:3},yt.H={bit:2},yt.isValid=function(e){return e&&void 0!==e.bit&&e.bit>=0&&e.bit<4},yt.from=function(e,t){if(yt.isValid(e))return e;try{return function(e){if("string"!=typeof e)throw new Error("Param is not a string");switch(e.toLowerCase()){case"l":case"low":return yt.L;case"m":case"medium":return yt.M;case"q":case"quartile":return yt.Q;case"h":case"high":return yt.H;default:throw new Error("Unknown EC Level: "+e)}}(e)}catch(n){return t}},wt.prototype={get:function(e){const t=Math.floor(e/8);return 1==(this.buffer[t]>>>7-e%8&1)},put:function(e,t){for(let n=0;n<t;n++)this.putBit(1==(e>>>t-n-1&1))},getLengthInBits:function(){return this.length},putBit:function(e){const t=Math.floor(this.length/8);this.buffer.length<=t&&this.buffer.push(0),e&&(this.buffer[t]|=128>>>this.length%8),this.length++}};var Nt=wt;function _t(e){if(!e||e<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=e,this.data=new Uint8Array(e*e),this.reservedBit=new Uint8Array(e*e)}_t.prototype.set=function(e,t,n,r){const s=e*this.size+t;this.data[s]=n,r&&(this.reservedBit[s]=!0)},_t.prototype.get=function(e,t){return this.data[e*this.size+t]},_t.prototype.xor=function(e,t,n){this.data[e*this.size+t]^=n},_t.prototype.isReserved=function(e,t){return this.reservedBit[e*this.size+t]};var kt=_t,Et={};!function(e){const t=gt.getSymbolSize;e.getRowColCoords=function(e){if(1===e)return[];const n=Math.floor(e/7)+2,r=t(e),s=145===r?26:2*Math.ceil((r-13)/(2*n-2)),i=[r-7];for(let t=1;t<n-1;t++)i[t]=i[t-1]-s;return i.push(6),i.reverse()},e.getPositions=function(t){const n=[],r=e.getRowColCoords(t),s=r.length;for(let e=0;e<s;e++)for(let t=0;t<s;t++)0===e&&0===t||0===e&&t===s-1||e===s-1&&0===t||n.push([r[e],r[t]]);return n}}(Et);var Tt={};const Ct=gt.getSymbolSize;Tt.getPositions=function(e){const t=Ct(e);return[[0,0],[t-7,0],[0,t-7]]};var At={};!function(e){e.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const t=3,n=3,r=40,s=10;function i(t,n,r){switch(t){case e.Patterns.PATTERN000:return(n+r)%2==0;case e.Patterns.PATTERN001:return n%2==0;case e.Patterns.PATTERN010:return r%3==0;case e.Patterns.PATTERN011:return(n+r)%3==0;case e.Patterns.PATTERN100:return(Math.floor(n/2)+Math.floor(r/3))%2==0;case e.Patterns.PATTERN101:return n*r%2+n*r%3==0;case e.Patterns.PATTERN110:return(n*r%2+n*r%3)%2==0;case e.Patterns.PATTERN111:return(n*r%3+(n+r)%2)%2==0;default:throw new Error("bad maskPattern:"+t)}}e.isValid=function(e){return null!=e&&""!==e&&!isNaN(e)&&e>=0&&e<=7},e.from=function(t){return e.isValid(t)?parseInt(t,10):void 0},e.getPenaltyN1=function(e){const n=e.size;let r=0,s=0,i=0,a=null,o=null;for(let c=0;c<n;c++){s=i=0,a=o=null;for(let u=0;u<n;u++){let n=e.get(c,u);n===a?s++:(s>=5&&(r+=t+(s-5)),a=n,s=1),n=e.get(u,c),n===o?i++:(i>=5&&(r+=t+(i-5)),o=n,i=1)}s>=5&&(r+=t+(s-5)),i>=5&&(r+=t+(i-5))}return r},e.getPenaltyN2=function(e){const t=e.size;let r=0;for(let n=0;n<t-1;n++)for(let s=0;s<t-1;s++){const t=e.get(n,s)+e.get(n,s+1)+e.get(n+1,s)+e.get(n+1,s+1);4!==t&&0!==t||r++}return r*n},e.getPenaltyN3=function(e){const t=e.size;let n=0,s=0,i=0;for(let r=0;r<t;r++){s=i=0;for(let a=0;a<t;a++)s=s<<1&2047|e.get(r,a),a>=10&&(1488===s||93===s)&&n++,i=i<<1&2047|e.get(a,r),a>=10&&(1488===i||93===i)&&n++}return n*r},e.getPenaltyN4=function(e){let t=0;const n=e.data.length;for(let r=0;r<n;r++)t+=e.data[r];return Math.abs(Math.ceil(100*t/n/5)-10)*s},e.applyMask=function(e,t){const n=t.size;for(let r=0;r<n;r++)for(let s=0;s<n;s++)t.isReserved(s,r)||t.xor(s,r,i(e,s,r))},e.getBestMask=function(t,n){const r=Object.keys(e.Patterns).length;let s=0,i=1/0;for(let a=0;a<r;a++){n(a),e.applyMask(a,t);const r=e.getPenaltyN1(t)+e.getPenaltyN2(t)+e.getPenaltyN3(t)+e.getPenaltyN4(t);e.applyMask(a,t),r<i&&(i=r,s=a)}return s}}(At);var jt={};const St=xt,It=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],Rt=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];jt.getBlocksCount=function(e,t){switch(t){case St.L:return It[4*(e-1)+0];case St.M:return It[4*(e-1)+1];case St.Q:return It[4*(e-1)+2];case St.H:return It[4*(e-1)+3];default:return}},jt.getTotalCodewordsCount=function(e,t){switch(t){case St.L:return Rt[4*(e-1)+0];case St.M:return Rt[4*(e-1)+1];case St.Q:return Rt[4*(e-1)+2];case St.H:return Rt[4*(e-1)+3];default:return}};var Dt={},Ot={};const Pt=new Uint8Array(512),Vt=new Uint8Array(256);!function(){let e=1;for(let t=0;t<255;t++)Pt[t]=e,Vt[e]=t,e<<=1,256&e&&(e^=285);for(let t=255;t<512;t++)Pt[t]=Pt[t-255]}(),Ot.log=function(e){if(e<1)throw new Error("log("+e+")");return Vt[e]},Ot.exp=function(e){return Pt[e]},Ot.mul=function(e,t){return 0===e||0===t?0:Pt[Vt[e]+Vt[t]]},function(e){const t=Ot;e.mul=function(e,n){const r=new Uint8Array(e.length+n.length-1);for(let s=0;s<e.length;s++)for(let i=0;i<n.length;i++)r[s+i]^=t.mul(e[s],n[i]);return r},e.mod=function(e,n){let r=new Uint8Array(e);for(;r.length-n.length>=0;){const e=r[0];for(let i=0;i<n.length;i++)r[i]^=t.mul(n[i],e);let s=0;for(;s<r.length&&0===r[s];)s++;r=r.slice(s)}return r},e.generateECPolynomial=function(n){let r=new Uint8Array([1]);for(let s=0;s<n;s++)r=e.mul(r,new Uint8Array([1,t.exp(s)]));return r}}(Dt);const Zt=Dt;function $t(e){this.genPoly=void 0,this.degree=e,this.degree&&this.initialize(this.degree)}$t.prototype.initialize=function(e){this.degree=e,this.genPoly=Zt.generateECPolynomial(this.degree)},$t.prototype.encode=function(e){if(!this.genPoly)throw new Error("Encoder not initialized");const t=new Uint8Array(e.length+this.degree);t.set(e);const n=Zt.mod(t,this.genPoly),r=this.degree-n.length;if(r>0){const e=new Uint8Array(this.degree);return e.set(n,r),e}return n};var Mt=$t,Lt={},Bt={},Ft={isValid:function(e){return!isNaN(e)&&e>=1&&e<=40}},Ut={};const zt="[0-9]+";let Kt="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";Kt=Kt.replace(/u/g,"\\u");const Jt="(?:(?![A-Z0-9 $%*+\\-./:]|"+Kt+")(?:.|[\r\n]))+";Ut.KANJI=new RegExp(Kt,"g"),Ut.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),Ut.BYTE=new RegExp(Jt,"g"),Ut.NUMERIC=new RegExp(zt,"g"),Ut.ALPHANUMERIC=new RegExp("[A-Z $%*+\\-./:]+","g");const Wt=new RegExp("^"+Kt+"$"),qt=new RegExp("^"+zt+"$"),Ht=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");Ut.testKanji=function(e){return Wt.test(e)},Ut.testNumeric=function(e){return qt.test(e)},Ut.testAlphanumeric=function(e){return Ht.test(e)},function(e){const t=Ft,n=Ut;e.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},e.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},e.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},e.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},e.MIXED={bit:-1},e.getCharCountIndicator=function(e,n){if(!e.ccBits)throw new Error("Invalid mode: "+e);if(!t.isValid(n))throw new Error("Invalid version: "+n);return n>=1&&n<10?e.ccBits[0]:n<27?e.ccBits[1]:e.ccBits[2]},e.getBestModeForData=function(t){return n.testNumeric(t)?e.NUMERIC:n.testAlphanumeric(t)?e.ALPHANUMERIC:n.testKanji(t)?e.KANJI:e.BYTE},e.toString=function(e){if(e&&e.id)return e.id;throw new Error("Invalid mode")},e.isValid=function(e){return e&&e.bit&&e.ccBits},e.from=function(t,n){if(e.isValid(t))return t;try{return function(t){if("string"!=typeof t)throw new Error("Param is not a string");switch(t.toLowerCase()){case"numeric":return e.NUMERIC;case"alphanumeric":return e.ALPHANUMERIC;case"kanji":return e.KANJI;case"byte":return e.BYTE;default:throw new Error("Unknown mode: "+t)}}(t)}catch(r){return n}}}(Bt),function(e){const t=gt,n=jt,r=xt,s=Bt,i=Ft,a=t.getBCHDigit(7973);function o(e,t){return s.getCharCountIndicator(e,t)+4}function c(e,t){let n=0;return e.forEach(function(e){const r=o(e.mode,t);n+=r+e.getBitsLength()}),n}e.from=function(e,t){return i.isValid(e)?parseInt(e,10):t},e.getCapacity=function(e,r,a){if(!i.isValid(e))throw new Error("Invalid QR Code version");void 0===a&&(a=s.BYTE);const c=8*(t.getSymbolTotalCodewords(e)-n.getTotalCodewordsCount(e,r));if(a===s.MIXED)return c;const u=c-o(a,e);switch(a){case s.NUMERIC:return Math.floor(u/10*3);case s.ALPHANUMERIC:return Math.floor(u/11*2);case s.KANJI:return Math.floor(u/13);case s.BYTE:default:return Math.floor(u/8)}},e.getBestVersionForData=function(t,n){let i;const a=r.from(n,r.M);if(Array.isArray(t)){if(t.length>1)return function(t,n){for(let r=1;r<=40;r++)if(c(t,r)<=e.getCapacity(r,n,s.MIXED))return r}(t,a);if(0===t.length)return 1;i=t[0]}else i=t;return function(t,n,r){for(let s=1;s<=40;s++)if(n<=e.getCapacity(s,r,t))return s}(i.mode,i.getLength(),a)},e.getEncodedBits=function(e){if(!i.isValid(e)||e<7)throw new Error("Invalid QR Code version");let n=e<<12;for(;t.getBCHDigit(n)-a>=0;)n^=7973<<t.getBCHDigit(n)-a;return e<<12|n}}(Lt);var Yt={};const Qt=gt,Xt=Qt.getBCHDigit(1335);Yt.getEncodedBits=function(e,t){const n=e.bit<<3|t;let r=n<<10;for(;Qt.getBCHDigit(r)-Xt>=0;)r^=1335<<Qt.getBCHDigit(r)-Xt;return 21522^(n<<10|r)};var Gt={};const en=Bt;function tn(e){this.mode=en.NUMERIC,this.data=e.toString()}tn.getBitsLength=function(e){return 10*Math.floor(e/3)+(e%3?e%3*3+1:0)},tn.prototype.getLength=function(){return this.data.length},tn.prototype.getBitsLength=function(){return tn.getBitsLength(this.data.length)},tn.prototype.write=function(e){let t,n,r;for(t=0;t+3<=this.data.length;t+=3)n=this.data.substr(t,3),r=parseInt(n,10),e.put(r,10);const s=this.data.length-t;s>0&&(n=this.data.substr(t),r=parseInt(n,10),e.put(r,3*s+1))};var nn=tn;const rn=Bt,sn=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function an(e){this.mode=rn.ALPHANUMERIC,this.data=e}an.getBitsLength=function(e){return 11*Math.floor(e/2)+e%2*6},an.prototype.getLength=function(){return this.data.length},an.prototype.getBitsLength=function(){return an.getBitsLength(this.data.length)},an.prototype.write=function(e){let t;for(t=0;t+2<=this.data.length;t+=2){let n=45*sn.indexOf(this.data[t]);n+=sn.indexOf(this.data[t+1]),e.put(n,11)}this.data.length%2&&e.put(sn.indexOf(this.data[t]),6)};var on=an;const cn=Bt;function un(e){this.mode=cn.BYTE,this.data="string"==typeof e?(new TextEncoder).encode(e):new Uint8Array(e)}un.getBitsLength=function(e){return 8*e},un.prototype.getLength=function(){return this.data.length},un.prototype.getBitsLength=function(){return un.getBitsLength(this.data.length)},un.prototype.write=function(e){for(let t=0,n=this.data.length;t<n;t++)e.put(this.data[t],8)};var ln=un;const dn=Bt,pn=gt;function hn(e){this.mode=dn.KANJI,this.data=e}hn.getBitsLength=function(e){return 13*e},hn.prototype.getLength=function(){return this.data.length},hn.prototype.getBitsLength=function(){return hn.getBitsLength(this.data.length)},hn.prototype.write=function(e){let t;for(t=0;t<this.data.length;t++){let n=pn.toSJIS(this.data[t]);if(n>=33088&&n<=40956)n-=33088;else{if(!(n>=57408&&n<=60351))throw new Error("Invalid SJIS character: "+this.data[t]+"\nMake sure your charset is UTF-8");n-=49472}n=192*(n>>>8&255)+(255&n),e.put(n,13)}};var mn=hn,fn={exports:{}};!function(e){var t={single_source_shortest_paths:function(e,n,r){var s={},i={};i[n]=0;var a,o,c,u,l,d,p,h=t.PriorityQueue.make();for(h.push(n,0);!h.empty();)for(c in o=(a=h.pop()).value,u=a.cost,l=e[o]||{})l.hasOwnProperty(c)&&(d=u+l[c],p=i[c],(void 0===i[c]||p>d)&&(i[c]=d,h.push(c,d),s[c]=o));if(void 0!==r&&void 0===i[r]){var m=["Could not find a path from ",n," to ",r,"."].join("");throw new Error(m)}return s},extract_shortest_path_from_predecessor_list:function(e,t){for(var n=[],r=t;r;)n.push(r),e[r],r=e[r];return n.reverse(),n},find_path:function(e,n,r){var s=t.single_source_shortest_paths(e,n,r);return t.extract_shortest_path_from_predecessor_list(s,r)},PriorityQueue:{make:function(e){var n,r=t.PriorityQueue,s={};for(n in e=e||{},r)r.hasOwnProperty(n)&&(s[n]=r[n]);return s.queue=[],s.sorter=e.sorter||r.default_sorter,s},default_sorter:function(e,t){return e.cost-t.cost},push:function(e,t){var n={value:e,cost:t};this.queue.push(n),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return 0===this.queue.length}}};e.exports=t}(fn);var gn=fn.exports;!function(e){const t=Bt,n=nn,r=on,s=ln,i=mn,a=Ut,o=gt,c=gn;function u(e){return unescape(encodeURIComponent(e)).length}function l(e,t,n){const r=[];let s;for(;null!==(s=e.exec(n));)r.push({data:s[0],index:s.index,mode:t,length:s[0].length});return r}function d(e){const n=l(a.NUMERIC,t.NUMERIC,e),r=l(a.ALPHANUMERIC,t.ALPHANUMERIC,e);let s,i;o.isKanjiModeEnabled()?(s=l(a.BYTE,t.BYTE,e),i=l(a.KANJI,t.KANJI,e)):(s=l(a.BYTE_KANJI,t.BYTE,e),i=[]);return n.concat(r,s,i).sort(function(e,t){return e.index-t.index}).map(function(e){return{data:e.data,mode:e.mode,length:e.length}})}function p(e,a){switch(a){case t.NUMERIC:return n.getBitsLength(e);case t.ALPHANUMERIC:return r.getBitsLength(e);case t.KANJI:return i.getBitsLength(e);case t.BYTE:return s.getBitsLength(e)}}function h(e,a){let c;const u=t.getBestModeForData(e);if(c=t.from(a,u),c!==t.BYTE&&c.bit<u.bit)throw new Error('"'+e+'" cannot be encoded with mode '+t.toString(c)+".\n Suggested mode is: "+t.toString(u));switch(c!==t.KANJI||o.isKanjiModeEnabled()||(c=t.BYTE),c){case t.NUMERIC:return new n(e);case t.ALPHANUMERIC:return new r(e);case t.KANJI:return new i(e);case t.BYTE:return new s(e)}}e.fromArray=function(e){return e.reduce(function(e,t){return"string"==typeof t?e.push(h(t,null)):t.data&&e.push(h(t.data,t.mode)),e},[])},e.fromString=function(n,r){const s=function(e){const n=[];for(let r=0;r<e.length;r++){const s=e[r];switch(s.mode){case t.NUMERIC:n.push([s,{data:s.data,mode:t.ALPHANUMERIC,length:s.length},{data:s.data,mode:t.BYTE,length:s.length}]);break;case t.ALPHANUMERIC:n.push([s,{data:s.data,mode:t.BYTE,length:s.length}]);break;case t.KANJI:n.push([s,{data:s.data,mode:t.BYTE,length:u(s.data)}]);break;case t.BYTE:n.push([{data:s.data,mode:t.BYTE,length:u(s.data)}])}}return n}(d(n,o.isKanjiModeEnabled())),i=function(e,n){const r={},s={start:{}};let i=["start"];for(let a=0;a<e.length;a++){const o=e[a],c=[];for(let e=0;e<o.length;e++){const u=o[e],l=""+a+e;c.push(l),r[l]={node:u,lastCount:0},s[l]={};for(let e=0;e<i.length;e++){const a=i[e];r[a]&&r[a].node.mode===u.mode?(s[a][l]=p(r[a].lastCount+u.length,u.mode)-p(r[a].lastCount,u.mode),r[a].lastCount+=u.length):(r[a]&&(r[a].lastCount=u.length),s[a][l]=p(u.length,u.mode)+4+t.getCharCountIndicator(u.mode,n))}}i=c}for(let t=0;t<i.length;t++)s[i[t]].end=0;return{map:s,table:r}}(s,r),a=c.find_path(i.map,"start","end"),l=[];for(let e=1;e<a.length-1;e++)l.push(i.table[a[e]].node);return e.fromArray(function(e){return e.reduce(function(e,t){const n=e.length-1>=0?e[e.length-1]:null;return n&&n.mode===t.mode?(e[e.length-1].data+=t.data,e):(e.push(t),e)},[])}(l))},e.rawSplit=function(t){return e.fromArray(d(t,o.isKanjiModeEnabled()))}}(Gt);const bn=gt,vn=xt,yn=Nt,xn=kt,wn=Et,Nn=Tt,_n=At,kn=jt,En=Mt,Tn=Lt,Cn=Yt,An=Bt,jn=Gt;function Sn(e,t,n){const r=e.size,s=Cn.getEncodedBits(t,n);let i,a;for(i=0;i<15;i++)a=1==(s>>i&1),i<6?e.set(i,8,a,!0):i<8?e.set(i+1,8,a,!0):e.set(r-15+i,8,a,!0),i<8?e.set(8,r-i-1,a,!0):i<9?e.set(8,15-i-1+1,a,!0):e.set(8,15-i-1,a,!0);e.set(r-8,8,1,!0)}function In(e,t,n){const r=new yn;n.forEach(function(t){r.put(t.mode.bit,4),r.put(t.getLength(),An.getCharCountIndicator(t.mode,e)),t.write(r)});const s=8*(bn.getSymbolTotalCodewords(e)-kn.getTotalCodewordsCount(e,t));for(r.getLengthInBits()+4<=s&&r.put(0,4);r.getLengthInBits()%8!=0;)r.putBit(0);const i=(s-r.getLengthInBits())/8;for(let a=0;a<i;a++)r.put(a%2?17:236,8);return function(e,t,n){const r=bn.getSymbolTotalCodewords(t),s=kn.getTotalCodewordsCount(t,n),i=r-s,a=kn.getBlocksCount(t,n),o=r%a,c=a-o,u=Math.floor(r/a),l=Math.floor(i/a),d=l+1,p=u-l,h=new En(p);let m=0;const f=new Array(a),g=new Array(a);let b=0;const v=new Uint8Array(e.buffer);for(let _=0;_<a;_++){const e=_<c?l:d;f[_]=v.slice(m,m+e),g[_]=h.encode(f[_]),m+=e,b=Math.max(b,e)}const y=new Uint8Array(r);let x,w,N=0;for(x=0;x<b;x++)for(w=0;w<a;w++)x<f[w].length&&(y[N++]=f[w][x]);for(x=0;x<p;x++)for(w=0;w<a;w++)y[N++]=g[w][x];return y}(r,e,t)}function Rn(e,t,n,r){let s;if(Array.isArray(e))s=jn.fromArray(e);else{if("string"!=typeof e)throw new Error("Invalid data");{let r=t;if(!r){const t=jn.rawSplit(e);r=Tn.getBestVersionForData(t,n)}s=jn.fromString(e,r||40)}}const i=Tn.getBestVersionForData(s,n);if(!i)throw new Error("The amount of data is too big to be stored in a QR Code");if(t){if(t<i)throw new Error("\nThe chosen QR Code version cannot contain this amount of data.\nMinimum version required to store current data is: "+i+".\n")}else t=i;const a=In(t,n,s),o=bn.getSymbolSize(t),c=new xn(o);return function(e,t){const n=e.size,r=Nn.getPositions(t);for(let s=0;s<r.length;s++){const t=r[s][0],i=r[s][1];for(let r=-1;r<=7;r++)if(!(t+r<=-1||n<=t+r))for(let s=-1;s<=7;s++)i+s<=-1||n<=i+s||(r>=0&&r<=6&&(0===s||6===s)||s>=0&&s<=6&&(0===r||6===r)||r>=2&&r<=4&&s>=2&&s<=4?e.set(t+r,i+s,!0,!0):e.set(t+r,i+s,!1,!0))}}(c,t),function(e){const t=e.size;for(let n=8;n<t-8;n++){const t=n%2==0;e.set(n,6,t,!0),e.set(6,n,t,!0)}}(c),function(e,t){const n=wn.getPositions(t);for(let r=0;r<n.length;r++){const t=n[r][0],s=n[r][1];for(let n=-2;n<=2;n++)for(let r=-2;r<=2;r++)-2===n||2===n||-2===r||2===r||0===n&&0===r?e.set(t+n,s+r,!0,!0):e.set(t+n,s+r,!1,!0)}}(c,t),Sn(c,n,0),t>=7&&function(e,t){const n=e.size,r=Tn.getEncodedBits(t);let s,i,a;for(let o=0;o<18;o++)s=Math.floor(o/3),i=o%3+n-8-3,a=1==(r>>o&1),e.set(s,i,a,!0),e.set(i,s,a,!0)}(c,t),function(e,t){const n=e.size;let r=-1,s=n-1,i=7,a=0;for(let o=n-1;o>0;o-=2)for(6===o&&o--;;){for(let n=0;n<2;n++)if(!e.isReserved(s,o-n)){let r=!1;a<t.length&&(r=1==(t[a]>>>i&1)),e.set(s,o-n,r),i--,-1===i&&(a++,i=7)}if(s+=r,s<0||n<=s){s-=r,r=-r;break}}}(c,a),isNaN(r)&&(r=_n.getBestMask(c,Sn.bind(null,c,n))),_n.applyMask(r,c),Sn(c,n,r),{modules:c,version:t,errorCorrectionLevel:n,maskPattern:r,segments:s}}ft.create=function(e,t){if(void 0===e||""===e)throw new Error("No input text");let n,r,s=vn.M;return void 0!==t&&(s=vn.from(t.errorCorrectionLevel,vn.M),n=Tn.from(t.version),r=_n.from(t.maskPattern),t.toSJISFunc&&bn.setToSJISFunction(t.toSJISFunc)),Rn(e,n,s,r)};var Dn={},On={};!function(e){function t(e){if("number"==typeof e&&(e=e.toString()),"string"!=typeof e)throw new Error("Color should be defined as hex string");let t=e.slice().replace("#","").split("");if(t.length<3||5===t.length||t.length>8)throw new Error("Invalid hex color: "+e);3!==t.length&&4!==t.length||(t=Array.prototype.concat.apply([],t.map(function(e){return[e,e]}))),6===t.length&&t.push("F","F");const n=parseInt(t.join(""),16);return{r:n>>24&255,g:n>>16&255,b:n>>8&255,a:255&n,hex:"#"+t.slice(0,6).join("")}}e.getOptions=function(e){e||(e={}),e.color||(e.color={});const n=void 0===e.margin||null===e.margin||e.margin<0?4:e.margin,r=e.width&&e.width>=21?e.width:void 0,s=e.scale||4;return{width:r,scale:r?4:s,margin:n,color:{dark:t(e.color.dark||"#000000ff"),light:t(e.color.light||"#ffffffff")},type:e.type,rendererOpts:e.rendererOpts||{}}},e.getScale=function(e,t){return t.width&&t.width>=e+2*t.margin?t.width/(e+2*t.margin):t.scale},e.getImageWidth=function(t,n){const r=e.getScale(t,n);return Math.floor((t+2*n.margin)*r)},e.qrToImageData=function(t,n,r){const s=n.modules.size,i=n.modules.data,a=e.getScale(s,r),o=Math.floor((s+2*r.margin)*a),c=r.margin*a,u=[r.color.light,r.color.dark];for(let e=0;e<o;e++)for(let n=0;n<o;n++){let l=4*(e*o+n),d=r.color.light;if(e>=c&&n>=c&&e<o-c&&n<o-c){d=u[i[Math.floor((e-c)/a)*s+Math.floor((n-c)/a)]?1:0]}t[l++]=d.r,t[l++]=d.g,t[l++]=d.b,t[l]=d.a}}}(On),function(e){const t=On;e.render=function(e,n,r){let s=r,i=n;void 0!==s||n&&n.getContext||(s=n,n=void 0),n||(i=function(){try{return document.createElement("canvas")}catch(e){throw new Error("You need to specify a canvas element")}}()),s=t.getOptions(s);const a=t.getImageWidth(e.modules.size,s),o=i.getContext("2d"),c=o.createImageData(a,a);return t.qrToImageData(c.data,e,s),function(e,t,n){e.clearRect(0,0,t.width,t.height),t.style||(t.style={}),t.height=n,t.width=n,t.style.height=n+"px",t.style.width=n+"px"}(o,i,a),o.putImageData(c,0,0),i},e.renderToDataURL=function(t,n,r){let s=r;void 0!==s||n&&n.getContext||(s=n,n=void 0),s||(s={});const i=e.render(t,n,s),a=s.type||"image/png",o=s.rendererOpts||{};return i.toDataURL(a,o.quality)}}(Dn);var Pn={};const Vn=On;function Zn(e,t){const n=e.a/255,r=t+'="'+e.hex+'"';return n<1?r+" "+t+'-opacity="'+n.toFixed(2).slice(1)+'"':r}function $n(e,t,n){let r=e+t;return void 0!==n&&(r+=" "+n),r}Pn.render=function(e,t,n){const r=Vn.getOptions(t),s=e.modules.size,i=e.modules.data,a=s+2*r.margin,o=r.color.light.a?"<path "+Zn(r.color.light,"fill")+' d="M0 0h'+a+"v"+a+'H0z"/>':"",c="<path "+Zn(r.color.dark,"stroke")+' d="'+function(e,t,n){let r="",s=0,i=!1,a=0;for(let o=0;o<e.length;o++){const c=Math.floor(o%t),u=Math.floor(o/t);c||i||(i=!0),e[o]?(a++,o>0&&c>0&&e[o-1]||(r+=i?$n("M",c+n,.5+u+n):$n("m",s,0),s=0,i=!1),c+1<t&&e[o+1]||(r+=$n("h",a),a=0)):s++}return r}(i,s,r.margin)+'"/>',u='viewBox="0 0 '+a+" "+a+'"',l='<svg xmlns="http://www.w3.org/2000/svg" '+(r.width?'width="'+r.width+'" height="'+r.width+'" ':"")+u+' shape-rendering="crispEdges">'+o+c+"</svg>\n";return"function"==typeof n&&n(null,l),l};const Mn=function(){return"function"==typeof Promise&&Promise.prototype&&Promise.prototype.then},Ln=ft,Bn=Dn,Fn=Pn;function Un(e,t,n,r,s){const i=[].slice.call(arguments,1),a=i.length,o="function"==typeof i[a-1];if(!o&&!Mn())throw new Error("Callback required as last argument");if(!o){if(a<1)throw new Error("Too few arguments provided");return 1===a?(n=t,t=r=void 0):2!==a||t.getContext||(r=n,n=t,t=void 0),new Promise(function(s,i){try{const i=Ln.create(n,r);s(e(i,t,r))}catch(a){i(a)}})}if(a<2)throw new Error("Too few arguments provided");2===a?(s=n,n=t,t=r=void 0):3===a&&(t.getContext&&void 0===s?(s=r,r=void 0):(s=r,r=n,n=t,t=void 0));try{const i=Ln.create(n,r);s(null,e(i,t,r))}catch(c){s(c)}}mt.create=Ln.create,mt.toCanvas=Un.bind(null,Bn.render),mt.toDataURL=Un.bind(null,Bn.renderToDataURL),mt.toString=Un.bind(null,function(e,t,n){return Fn.render(e,n)});const zn={isRecording:!1,textInput:"",currentCommandIndex:0,showSettings:!1,connectionStatus:{isConnected:!1},voiceSupported:!1,executionStatus:"idle",promptMessage:null,peerConnection:null,dataChannel:null,auth:{status:"unauthenticated",hostId:"",sessionId:null,totpSecret:null,qrCodeUrl:null,jwt:null,error:null,totpInput:""},voiceCommandPending:!1},Kn=()=>{const t="http://localhost:5174",n="http://localhost:8080",[g,b]=e.useState(zn),v=e.useRef(null),y=e.useRef(null),w=e.useRef(null),N=e.useRef(g.executionStatus),_=e.useRef(null);e.useEffect(()=>{N.current=g.executionStatus},[g.executionStatus]),e.useEffect(()=>{if(v.current&&!y.current){const e=new r.Terminal({fontFamily:"monospace",fontSize:14,theme:{background:"#0f172a",foreground:"#e2e8f0",cursor:"#e2e8f0",selectionBackground:"rgba(255, 255, 255, 0.3)"}}),t=new s.FitAddon;e.loadAddon(t),e.open(v.current),t.fit(),y.current=e,w.current=t,e.write("Vibe Coder initialized\r\n"),e.write("🤖 Claude Code ready\r\n"),e.write("user@localhost:~/project$ ");const n=()=>{t.fit()};return window.addEventListener("resize",n),()=>{e.dispose(),window.removeEventListener("resize",n)}}},[]);const k=()=>{let e=null,n=null,r=g.auth.sessionId,s=g.auth.hostId;return(async()=>{if(r=g.auth.sessionId,!r)throw new Error("No authenticated sessionId");try{const i={type:"create-session",sessionId:r||"",hostId:s},a=await fetch(`${t}/api/signal`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(i)}),o=await a.json();if(!o.success)throw new Error(`Failed to create session: ${o.error}`);console.log("Session created successfully"),await(async()=>{e=new RTCPeerConnection({iceServers:[{urls:"stun:stun.l.google.com:19302"}]}),e.onicecandidate=e=>{if(e.candidate){console.log("Sending ICE candidate:",e.candidate);const n={type:"candidate",sessionId:r||"",hostId:s,candidate:e.candidate.toJSON()};fetch(`${t}/api/signal`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)}).catch(e=>console.error("Failed to send ICE candidate:",e))}},e.oniceconnectionstatechange=()=>{console.log("ICE connection state:",e?.iceConnectionState),b(t=>({...t,connectionStatus:{isConnected:"connected"===e?.iceConnectionState}}))},e.ondatachannel=e=>{n=e.channel,console.log("Data channel created:",n),b(e=>({...e,dataChannel:n})),n.onmessage=e=>{console.log("Data channel message:",e.data);try{const t=JSON.parse(e.data);if(console.log("Parsed message:",t),y.current)switch(t.type){case"output":y.current.write(t.data);break;case"error":y.current.write(`\r\nError: ${t.error}\r\n`);break;case"completed":y.current.write("\r\nuser@localhost:~/project$ "),b(e=>({...e,executionStatus:"idle"}));break;case"prompt":b(e=>({...e,executionStatus:"awaitingInput",promptMessage:t.message}));break;default:y.current.write(e.data)}}catch(t){y.current&&y.current.write(e.data)}},n.onopen=()=>{console.log("Data channel opened"),y.current&&y.current.write("\r\nWebRTC Data Channel connected.\r\n")},n.onclose=()=>{console.log("Data channel closed"),y.current&&y.current.write("\r\n⚠️ WebRTC Data Channel disconnected. Connection lost.\r\n"),b(e=>({...e,dataChannel:null,connectionStatus:{isConnected:!1}}))},n.onerror=e=>{console.error("Data channel error:",e),y.current&&y.current.write(`\r\nData Channel Error: ${e instanceof Error?e.message:"Unknown error"}\r\n`)}},n=e.createDataChannel("terminal"),b(e=>({...e,dataChannel:n})),console.log("Peer connection created.")})();const c=await(e?.createOffer());await(e?.setLocalDescription(c));const u={type:"offer",sessionId:r||"",hostId:"vibe-coder-host",offer:{type:c?.type,sdp:c?.sdp||""}},l=await fetch(`${t}/api/signal`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(u)}),d=await l.json();if(!d.success)throw new Error(`Failed to send offer: ${d.error}`);console.log("Offer sent to signaling server.");let p=!1;const h=async()=>{if(p)return;const n={type:"get-answer",sessionId:r||"",hostId:"vibe-coder-host"},s=await fetch(`${t}/api/signal`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)}),i=await s.json();if(i.success&&i.answer){console.log("Received answer:",i.answer);const t=new RTCSessionDescription(i.answer);await(e?.setRemoteDescription(t)),p=!0,y.current&&y.current.write("\r\nWebRTC connection established.\r\n")}else setTimeout(h,1e3)},m=async()=>{const n={type:"get-candidate",sessionId:r||"",hostId:"vibe-coder-host"};try{const r=await fetch(`${t}/api/signal`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)}),i=await r.json();if(i.success&&i.candidates?.length>0){console.log("Received ICE candidates:",i.candidates);for(const t of i.candidates)try{const n=JSON.parse(t.candidate);await(e?.addIceCandidate(new RTCIceCandidate(n)))}catch(s){console.error("Failed to add ICE candidate:",s)}}}catch(s){console.error("Failed to fetch ICE candidates:",s)}setTimeout(m,2e3)};h(),m()}catch(i){console.error("WebRTC initialization error:",i),y.current&&y.current.write(`\r\nWebRTC Init Error: ${i instanceof Error?i.message:"Unknown error"}\r\n`),b(e=>({...e,connectionStatus:{isConnected:!1}}))}})(),()=>{e&&e.close(),n&&n.close()}};e.useEffect(()=>{"authenticated"!==g.auth.status||g.peerConnection||(console.log("Authentication successful, initializing WebRTC connection..."),k())},[g.auth.status,g.peerConnection]),e.useEffect(()=>{const e=window.webkitSpeechRecognition||window.SpeechRecognition,t=!!e;if(b(e=>({...e,voiceSupported:t})),t){const t=new e;t.continuous=!1,t.interimResults=!1,t.lang="ja-JP",t.maxAlternatives=1,t.onstart=()=>{console.log("Voice recognition started"),b(e=>({...e,isRecording:!0})),y.current&&y.current.write("\r\n🎤 Listening...\r\n")},t.onresult=e=>{const t=e.results[0][0].transcript;console.log("Voice recognition result:",t),y.current&&y.current.write(`🗣️ "${t}"\r\n`),b(e=>({...e,textInput:t,voiceCommandPending:!0}))},t.onerror=e=>{console.error("Voice recognition error:",e.error),b(e=>({...e,isRecording:!1})),y.current&&y.current.write(`\r\n❌ Voice error: ${e.error}\r\n`)},t.onend=()=>{console.log("Voice recognition ended"),b(e=>({...e,isRecording:!1}))},_.current=t}return()=>{_.current&&_.current.abort()}},[g.auth.jwt]);const E=e.useCallback(async e=>{if(g.auth.jwt){y.current&&(y.current.write(`user@localhost:~/project$ claude-code "${e}"\r\n`),y.current.write("🤖 Executing command...\r\n")),b(e=>({...e,executionStatus:"running"}));try{if(g.dataChannel&&"open"===g.dataChannel.readyState)g.dataChannel.send(JSON.stringify({type:"claude-command",command:e,timestamp:Date.now()}));else{const t=await fetch(`${n}/api/claude/execute`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${g.auth.jwt}`},body:JSON.stringify({command:e})});if(!t.ok){if(401===t.status)return b(e=>({...e,auth:{...e.auth,status:"entering_totp",jwt:null,error:"セッションが期限切れです。再度認証してください。",totpInput:""},connectionStatus:{isConnected:!1},peerConnection:null,dataChannel:null,executionStatus:"idle"})),void(y.current&&y.current.write("\r\n⚠️ Session expired. Please re-authenticate.\r\n"));throw new Error(`HTTP ${t.status}: ${t.statusText}`)}const r=await t.json();y.current&&(r.output&&y.current.write(r.output+"\r\n"),r.error&&y.current.write(`Error: ${r.error}\r\n`),y.current.write("user@localhost:~/project$ ")),b(e=>({...e,executionStatus:"idle"}))}}catch(t){y.current&&(y.current.write(`\r\nError: ${t instanceof Error?t.message:"Unknown error"}\r\n`),y.current.write("user@localhost:~/project$ ")),b(e=>({...e,executionStatus:"idle"}))}}else y.current&&y.current.write("\r\nError: Not authenticated. Please login first.\r\n")},[g.auth.jwt,g.dataChannel]);e.useEffect(()=>{g.voiceCommandPending&&g.textInput.trim()&&(E(g.textInput),b(e=>({...e,voiceCommandPending:!1,textInput:""})))},[g.voiceCommandPending,g.textInput,E]),e.useEffect(()=>{const e=e=>{"Escape"===e.key&&"running"===N.current&&(y.current&&(y.current.write("\r\nExecution cancelled by user.\r\n"),y.current.write("user@localhost:~/project$ ")),b(e=>({...e,executionStatus:"cancelled"})))};return window.addEventListener("keydown",e),()=>{window.removeEventListener("keydown",e)}},[]);const T=async()=>{if(g.auth.hostId.trim()&&8===g.auth.hostId.length)try{b(e=>({...e,auth:{...e.auth,error:null}}));const e=await fetch(`${n}/api/auth/sessions`,{method:"POST"});if(!e.ok)throw 404===e.status?new Error("Host IDが見つかりません。正しい8桁の数字を入力してください"):500===e.status?new Error("ホストサーバーに接続できません"):new Error("接続エラーが発生しました");const t=await e.json(),r=`otpauth://totp/Vibe%20Coder:${g.auth.hostId}?secret=${t.totpSecret}&issuer=Vibe%20Coder`,s=await mt.toDataURL(r,{width:256,margin:2,color:{dark:"#000000",light:"#ffffff"}});b(e=>({...e,auth:{...e.auth,status:"entering_totp",sessionId:t.sessionId,totpSecret:t.totpSecret,qrCodeUrl:s,totpInput:""}}))}catch(e){b(t=>({...t,auth:{...t.auth,error:e instanceof Error?e.message:"接続エラー"}}))}else b(e=>({...e,auth:{...e.auth,error:"8桁のHost IDを入力してください"}}))},C=()=>{g.textInput.trim()&&("awaitingInput"===g.executionStatus?(async e=>{y.current&&y.current.write(`${e}\r\n`),g.dataChannel&&"open"===g.dataChannel.readyState?g.dataChannel.send(JSON.stringify({type:"response",response:e})):(y.current&&y.current.write("\r\nWebRTC Data Channel is not open.\r\n"),b(e=>({...e,executionStatus:"idle"})))})(g.textInput):E(g.textInput),b(e=>({...e,textInput:""})))},A=e=>{const t=ht;b("left"===e?e=>({...e,currentCommandIndex:Math.max(0,e.currentCommandIndex-1)}):e=>({...e,currentCommandIndex:Math.min(t.length-5,e.currentCommandIndex+1)}))},j=ht,S=j.slice(g.currentCommandIndex,g.currentCommandIndex+5),I="running"===g.executionStatus||"awaitingInput"===g.executionStatus;return x.jsxDEV("div",{className:"h-screen bg-gradient-to-br from-slate-900 to-slate-700 text-white flex flex-col relative overflow-hidden mobile-optimized full-height-mobile",children:[x.jsxDEV("div",{className:"relative z-10 h-16 p-3 flex items-center justify-between glass-morphism safe-area-inset-top",children:[x.jsxDEV("div",{className:"flex items-center space-x-2",children:x.jsxDEV("div",{children:[x.jsxDEV("h1",{className:"text-lg font-bold",children:"Vibe Coder"},void 0,!1,{fileName:"/home/ubuntu/src/vibe-coder/apps/web/src/App.tsx",lineNumber:1171,columnNumber:13},globalThis),x.jsxDEV("p",{className:"text-xs opacity-80",children:"Claude Code Mobile"},void 0,!1,{fileName:"/home/ubuntu/src/vibe-coder/apps/web/src/App.tsx",lineNumber:1172,columnNumber:13},globalThis)]},void 0,!0,{fileName:"/home/ubuntu/src/vibe-coder/apps/web/src/App.tsx",lineNumber:1170,columnNumber:11},globalThis)},void 0,!1,{fileName:"/home/ubuntu/src/vibe-coder/apps/web/src/App.tsx",lineNumber:1168,columnNumber:9},globalThis),x.jsxDEV("div",{className:"flex items-center space-x-2",children:[x.jsxDEV("div",{className:"flex items-center space-x-1",children:g.connectionStatus.isConnected?x.jsxDEV(i,{className:"w-4 h-4 text-green-400","data-testid":"wifi-on"},void 0,!1,{fileName:"/home/ubuntu/src/vibe-coder/apps/web/src/App.tsx",lineNumber:1179,columnNumber:15},globalThis):x.jsxDEV(a,{className:"w-4 h-4 text-red-400","data-testid":"wifi-off"},void 0,!1,{fileName:"/home/ubuntu/src/vibe-coder/apps/web/src/App.tsx",lineNumber:1181,columnNumber:15},globalThis)},void 0,!1,{fileName:"/home/ubuntu/src/vibe-coder/apps/web/src/App.tsx",lineNumber:1177,columnNumber:11},globalThis),x.jsxDEV("button",{onClick:()=>E("/exit"),className:"touch-friendly glass-morphism rounded-full hover:bg-white/20 ml-2",title:"セッション終了 (/exit)",disabled:I,children:x.jsxDEV(o,{className:"w-4 h-4"},void 0,!1,{fileName:"/home/ubuntu/src/vibe-coder/apps/web/src/App.tsx",lineNumber:1193,columnNumber:13},globalThis)},void 0,!1,{fileName:"/home/ubuntu/src/vibe-coder/apps/web/src/App.tsx",lineNumber:1187,columnNumber:11},globalThis),"authenticated"===g.auth.status&&x.jsxDEV("button",{onClick:()=>{g.peerConnection&&g.peerConnection.close(),g.dataChannel&&g.dataChannel.close(),b(e=>({...e,auth:{...e.auth,status:"entering_totp",jwt:null,error:null,totpInput:""},connectionStatus:{isConnected:!1},peerConnection:null,dataChannel:null,executionStatus:"idle",promptMessage:null})),y.current&&(y.current.clear(),y.current.write("Logged out. Please enter 2FA code to reconnect.\r\n"))},className:"touch-friendly glass-morphism rounded-full hover:bg-white/20",title:"Logout",children:x.jsxDEV(c,{className:"w-4 h-4"},void 0,!1,{fileName:"/home/ubuntu/src/vibe-coder/apps/web/src/App.tsx",lineNumber:1201,columnNumber:15},globalThis)},void 0,!1,{fileName:"/home/ubuntu/src/vibe-coder/apps/web/src/App.tsx",lineNumber:1196,columnNumber:13},globalThis),x.jsxDEV("button",{onClick:()=>b(e=>({...e,showSettings:!0})),className:"touch-friendly glass-morphism rounded-full hover:bg-white/20",title:"Settings",children:x.jsxDEV(u,{className:"w-4 h-4"},void 0,!1,{fileName:"/home/ubuntu/src/vibe-coder/apps/web/src/App.tsx",lineNumber:1209,columnNumber:13},globalThis)},void 0,!1,{fileName:"/home/ubuntu/src/vibe-coder/apps/web/src/App.tsx",lineNumber:1204,columnNumber:11},globalThis)]},void 0,!0,{fileName:"/home/ubuntu/src/vibe-coder/apps/web/src/App.tsx",lineNumber:1176,columnNumber:9},globalThis)]},void 0,!0,{fileName:"/home/ubuntu/src/vibe-coder/apps/web/src/App.tsx",lineNumber:1167,columnNumber:7},globalThis),"authenticated"!==g.auth.status?"entering_host_id"===g.auth.status?x.jsxDEV("div",{className:"flex-1 p-6 flex flex-col items-center justify-center",children:x.jsxDEV("div",{className:"glass-morphism rounded-xl p-6 w-full max-w-md",children:[x.jsxDEV("div",{className:"text-center mb-6",children:[x.jsxDEV("h2",{className:"text-2xl font-bold mb-2",children:"ホスト接続"},void 0,!1,{fileName:"/home/ubuntu/src/vibe-coder/apps/web/src/App.tsx",lineNumber:997,columnNumber:15},globalThis),x.jsxDEV("p",{className:"text-sm opacity-80",children:"8桁のHost IDを入力してください"},void 0,!1,{fileName:"/home/ubuntu/src/vibe-coder/apps/web/src/App.tsx",lineNumber:998,columnNumber:15},globalThis)]},void 0,!0,{fileName:"/home/ubuntu/src/vibe-coder/apps/web/src/App.tsx",lineNumber:996,columnNumber:13},globalThis),x.jsxDEV("div",{className:"space-y-4",children:[x.jsxDEV("input",{type:"text",value:g.auth.hostId,onChange:e=>b(t=>({...t,auth:{...t.auth,hostId:e.target.value.replace(/\D/g,"").slice(0,8)}})),onKeyDown:e=>"Enter"===e.key&&T(),className:"w-full p-4 bg-white/10 rounded-lg text-center text-xl font-mono tracking-widest focus:outline-none focus:ring-2 focus:ring-blue-400",placeholder:"12345678",maxLength:8,autoFocus:!0},void 0,!1,{fileName:"/home/ubuntu/src/vibe-coder/apps/web/src/App.tsx",lineNumber:1004,columnNumber:15},globalThis),g.auth.error&&x.jsxDEV("div",{className:"bg-red-500/20 border border-red-500/50 rounded-lg p-4",children:[x.jsxDEV("div",{className:"flex items-center space-x-2",children:[x.jsxDEV("span",{className:"text-red-400 text-lg",children:"❌"},void 0,!1,{fileName:"/home/ubuntu/src/vibe-coder/apps/web/src/App.tsx",lineNumber:1026,columnNumber:21},globalThis),x.jsxDEV("p",{className:"text-red-400 text-sm font-medium",children:g.auth.error},void 0,!1,{fileName:"/home/ubuntu/src/vibe-coder/apps/web/src/App.tsx",lineNumber:1027,columnNumber:21},globalThis)]},void 0,!0,{fileName:"/home/ubuntu/src/vibe-coder/apps/web/src/App.tsx",lineNumber:1025,columnNumber:19},globalThis),x.jsxDEV("p",{className:"text-red-300 text-xs mt-1 opacity-80",children:"ホストサーバーが起動していることを確認してください。"},void 0,!1,{fileName:"/home/ubuntu/src/vibe-coder/apps/web/src/App.tsx",lineNumber:1031,columnNumber:19},globalThis)]},void 0,!0,{fileName:"/home/ubuntu/src/vibe-coder/apps/web/src/App.tsx",lineNumber:1024,columnNumber:17},globalThis),x.jsxDEV("button",{onClick:T,disabled:8!==g.auth.hostId.length,className:"w-full p-4 glass-morphism rounded-lg hover:bg-white/20 transition-all touch-friendly disabled:opacity-50 disabled:cursor-not-allowed",children:"接続"},void 0,!1,{fileName:"/home/ubuntu/src/vibe-coder/apps/web/src/App.tsx",lineNumber:1037,columnNumber:15},globalThis)]},void 0,!0,{fileName:"/home/ubuntu/src/vibe-coder/apps/web/src/App.tsx",lineNumber:1003,columnNumber:13},globalThis)]},void 0,!0,{fileName:"/home/ubuntu/src/vibe-coder/apps/web/src/App.tsx",lineNumber:995,columnNumber:11},globalThis)},void 0,!1,{fileName:"/home/ubuntu/src/vibe-coder/apps/web/src/App.tsx",lineNumber:994,columnNumber:9},globalThis):"entering_totp"===g.auth.status?x.jsxDEV("div",{className:"flex-1 p-6 flex flex-col items-center justify-center",children:x.jsxDEV("div",{className:"glass-morphism rounded-xl p-6 w-full max-w-md",children:[x.jsxDEV("div",{className:"text-center mb-6",children:[x.jsxDEV("h2",{className:"text-2xl font-bold mb-2",children:"2FA認証"},void 0,!1,{fileName:"/home/ubuntu/src/vibe-coder/apps/web/src/App.tsx",lineNumber:1055,columnNumber:15},globalThis),x.jsxDEV("p",{className:"text-sm opacity-80 mb-4",children:"QRコードをAuthenticatorアプリでスキャンしてください"},void 0,!1,{fileName:"/home/ubuntu/src/vibe-coder/apps/web/src/App.tsx",lineNumber:1056,columnNumber:15},globalThis),g.auth.qrCodeUrl&&x.jsxDEV("div",{className:"bg-white/10 rounded-lg p-4 mb-4 flex flex-col items-center",children:[x.jsxDEV("img",{src:g.auth.qrCodeUrl,alt:"TOTP QR Code",className:"w-48 h-48 mb-3"},void 0,!1,{fileName:"/home/ubuntu/src/vibe-coder/apps/web/src/App.tsx",lineNumber:1062,columnNumber:19},globalThis),x.jsxDEV("p",{className:"text-xs opacity-70 mb-2",children:"手動入力用秘密鍵:"},void 0,!1,{fileName:"/home/ubuntu/src/vibe-coder/apps/web/src/App.tsx",lineNumber:1067,columnNumber:19},globalThis),x.jsxDEV("p",{className:"font-mono text-xs break-all select-all bg-white/5 rounded p-2 w-full",children:g.auth.totpSecret},void 0,!1,{fileName:"/home/ubuntu/src/vibe-coder/apps/web/src/App.tsx",lineNumber:1068,columnNumber:19},globalThis)]},void 0,!0,{fileName:"/home/ubuntu/src/vibe-coder/apps/web/src/App.tsx",lineNumber:1061,columnNumber:17},globalThis)]},void 0,!0,{fileName:"/home/ubuntu/src/vibe-coder/apps/web/src/App.tsx",lineNumber:1054,columnNumber:13},globalThis),x.jsxDEV("div",{className:"space-y-4",children:[x.jsxDEV("input",{type:"text",value:g.auth.totpInput,onChange:e=>{const t=e.target.value.replace(/\D/g,"").slice(0,6);b(e=>({...e,auth:{...e.auth,totpInput:t}})),6===t.length&&(async e=>{try{if(console.log("handleTotpSubmit called with:",e),b(e=>({...e,auth:{...e.auth,error:null}})),!g.auth.sessionId){console.log("No sessionId, creating new session...");const e=await fetch(`${n}/api/auth/sessions`,{method:"POST"});if(!e.ok)throw 404===e.status?new Error("Host IDが見つかりません。正しい8桁の数字を入力してください"):500===e.status?new Error("ホストサーバーに接続できません"):new Error("接続エラーが発生しました");const t=await e.json();console.log("Session created:",t);const r=`otpauth://totp/Vibe%20Coder:${g.auth.hostId}?secret=${t.totpSecret}&issuer=Vibe%20Coder`,s=await mt.toDataURL(r,{width:256,margin:2,color:{dark:"#000000",light:"#ffffff"}});b(e=>({...e,auth:{...e.auth,sessionId:t.sessionId,totpSecret:t.totpSecret,qrCodeUrl:s}}))}const t=`${n}/api/auth/sessions/${g.auth.sessionId}/verify`;console.log("Calling TOTP verification API:",t);const r=await fetch(t,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({totpCode:e})});if(console.log("TOTP verification response status:",r.status),!r.ok)throw 401===r.status?new Error("認証コードが正しくありません"):404===r.status?(b(e=>({...e,auth:{...e.auth,sessionId:null,totpSecret:null,qrCodeUrl:null,totpInput:""}})),new Error("セッションが期限切れです。もう一度認証コードを入力してください")):new Error("サーバーエラーが発生しました");const s=await r.json();if(console.log("TOTP verification response data:",s),!s.success)throw new Error(s.message||"認証に失敗しました");b(e=>({...e,auth:{...e.auth,status:"authenticated",jwt:s.token}}))}catch(t){console.error("handleTotpSubmit error:",t),b(e=>({...e,auth:{...e.auth,error:t instanceof Error?t.message:"認証エラー",totpInput:""}}))}})(t)},className:"w-full p-4 bg-white/10 rounded-lg text-center text-xl font-mono tracking-widest focus:outline-none focus:ring-2 focus:ring-blue-400",placeholder:"000000",maxLength:6,autoFocus:!0},void 0,!1,{fileName:"/home/ubuntu/src/vibe-coder/apps/web/src/App.tsx",lineNumber:1076,columnNumber:15},globalThis),g.auth.error&&x.jsxDEV("div",{className:"bg-red-500/20 border border-red-500/50 rounded-lg p-4",children:[x.jsxDEV("div",{className:"flex items-center space-x-2",children:[x.jsxDEV("span",{className:"text-red-400 text-lg",children:"❌"},void 0,!1,{fileName:"/home/ubuntu/src/vibe-coder/apps/web/src/App.tsx",lineNumber:1098,columnNumber:21},globalThis),x.jsxDEV("p",{className:"text-red-400 text-sm font-medium",children:g.auth.error},void 0,!1,{fileName:"/home/ubuntu/src/vibe-coder/apps/web/src/App.tsx",lineNumber:1099,columnNumber:21},globalThis)]},void 0,!0,{fileName:"/home/ubuntu/src/vibe-coder/apps/web/src/App.tsx",lineNumber:1097,columnNumber:19},globalThis),x.jsxDEV("p",{className:"text-red-300 text-xs mt-1 opacity-80",children:"認証コードを確認してください。時間切れの場合は新しいコードを入力してください。"},void 0,!1,{fileName:"/home/ubuntu/src/vibe-coder/apps/web/src/App.tsx",lineNumber:1103,columnNumber:19},globalThis)]},void 0,!0,{fileName:"/home/ubuntu/src/vibe-coder/apps/web/src/App.tsx",lineNumber:1096,columnNumber:17},globalThis),x.jsxDEV("button",{onClick:()=>b(e=>({...e,auth:{...e.auth,status:"entering_host_id",error:null,totpSecret:null,qrCodeUrl:null,sessionId:null,totpInput:""}})),className:"w-full p-3 glass-morphism rounded-lg hover:bg-white/20 transition-all touch-friendly text-sm opacity-80",children:"戻る"},void 0,!1,{fileName:"/home/ubuntu/src/vibe-coder/apps/web/src/App.tsx",lineNumber:1109,columnNumber:15},globalThis)]},void 0,!0,{fileName:"/home/ubuntu/src/vibe-coder/apps/web/src/App.tsx",lineNumber:1075,columnNumber:13},globalThis)]},void 0,!0,{fileName:"/home/ubuntu/src/vibe-coder/apps/web/src/App.tsx",lineNumber:1053,columnNumber:11},globalThis)},void 0,!1,{fileName:"/home/ubuntu/src/vibe-coder/apps/web/src/App.tsx",lineNumber:1052,columnNumber:9},globalThis):x.jsxDEV("div",{className:"flex-1 p-6 flex flex-col items-center justify-center",children:[x.jsxDEV("div",{className:"text-center mb-8",children:[x.jsxDEV("h2",{className:"text-3xl font-bold mb-4",children:"Vibe Coder"},void 0,!1,{fileName:"/home/ubuntu/src/vibe-coder/apps/web/src/App.tsx",lineNumber:1138,columnNumber:11},globalThis),x.jsxDEV("p",{className:"text-lg opacity-80 mb-2",children:"スマホでClaude Codeを実行"},void 0,!1,{fileName:"/home/ubuntu/src/vibe-coder/apps/web/src/App.tsx",lineNumber:1139,columnNumber:11},globalThis),x.jsxDEV("p",{className:"text-sm opacity-60",children:"まずはホストサーバーに接続してください"},void 0,!1,{fileName:"/home/ubuntu/src/vibe-coder/apps/web/src/App.tsx",lineNumber:1140,columnNumber:11},globalThis)]},void 0,!0,{fileName:"/home/ubuntu/src/vibe-coder/apps/web/src/App.tsx",lineNumber:1137,columnNumber:9},globalThis),x.jsxDEV("button",{onClick:()=>b(e=>({...e,auth:{...e.auth,status:"entering_host_id"}})),className:"glass-morphism rounded-xl p-6 hover:bg-white/20 transition-all touch-friendly",children:x.jsxDEV("div",{className:"text-center",children:[x.jsxDEV("div",{className:"text-4xl mb-3",children:"🔗"},void 0,!1,{fileName:"/home/ubuntu/src/vibe-coder/apps/web/src/App.tsx",lineNumber:1155,columnNumber:13},globalThis),x.jsxDEV("div",{className:"text-lg font-medium",children:"ホストに接続"},void 0,!1,{fileName:"/home/ubuntu/src/vibe-coder/apps/web/src/App.tsx",lineNumber:1156,columnNumber:13},globalThis),x.jsxDEV("div",{className:"text-sm opacity-80",children:"8桁のHost IDで接続"},void 0,!1,{fileName:"/home/ubuntu/src/vibe-coder/apps/web/src/App.tsx",lineNumber:1157,columnNumber:13},globalThis)]},void 0,!0,{fileName:"/home/ubuntu/src/vibe-coder/apps/web/src/App.tsx",lineNumber:1154,columnNumber:11},globalThis)},void 0,!1,{fileName:"/home/ubuntu/src/vibe-coder/apps/web/src/App.tsx",lineNumber:1145,columnNumber:9},globalThis)]},void 0,!0,{fileName:"/home/ubuntu/src/vibe-coder/apps/web/src/App.tsx",lineNumber:1136,columnNumber:7},globalThis):x.jsxDEV(x.Fragment,{children:[x.jsxDEV("div",{className:"relative z-10 p-3 flex flex-col min-h-0 flex-1",children:[x.jsxDEV("div",{className:"flex items-center justify-between mb-2",children:[x.jsxDEV("span",{className:"text-sm font-medium flex items-center",children:"Terminal"},void 0,!1,{fileName:"/home/ubuntu/src/vibe-coder/apps/web/src/App.tsx",lineNumber:1222,columnNumber:15},globalThis),x.jsxDEV("span",{className:"text-xs opacity-70",children:["running"===g.executionStatus&&"Running...","awaitingInput"===g.executionStatus&&"Awaiting input...","idle"===g.executionStatus&&"Ready","completed"===g.executionStatus&&"Ready","cancelled"===g.executionStatus&&"Ready"]},void 0,!0,{fileName:"/home/ubuntu/src/vibe-coder/apps/web/src/App.tsx",lineNumber:1225,columnNumber:15},globalThis)]},void 0,!0,{fileName:"/home/ubuntu/src/vibe-coder/apps/web/src/App.tsx",lineNumber:1221,columnNumber:13},globalThis),x.jsxDEV("div",{ref:v,className:"glass-morphism rounded-lg p-3 flex-1 overflow-y-auto terminal-output cursor-pointer hover:border-gray-600 transition-colors custom-scrollbar min-h-0"},void 0,!1,{fileName:"/home/ubuntu/src/vibe-coder/apps/web/src/App.tsx",lineNumber:1235,columnNumber:13},globalThis)]},void 0,!0,{fileName:"/home/ubuntu/src/vibe-coder/apps/web/src/App.tsx",lineNumber:1220,columnNumber:11},globalThis),x.jsxDEV("div",{className:"relative z-10 px-3 py-2 glass-morphism border-t border-white/10 flex-shrink-0 "+(I?"opacity-50 pointer-events-none":""),children:x.jsxDEV("div",{className:"flex items-center",children:[x.jsxDEV("input",{type:"text",value:g.textInput,onChange:e=>b(t=>({...t,textInput:e.target.value})),onKeyDown:e=>"Enter"===e.key&&C(),className:"flex-1 bg-transparent text-white outline-none",disabled:I},void 0,!1,{fileName:"/home/ubuntu/src/vibe-coder/apps/web/src/App.tsx",lineNumber:1248,columnNumber:15},globalThis),x.jsxDEV("button",{onClick:C,className:"ml-2 touch-friendly glass-morphism rounded-full hover:bg-white/20",title:"Execute Command",disabled:I,children:x.jsxDEV(l,{className:"w-4 h-4"},void 0,!1,{fileName:"/home/ubuntu/src/vibe-coder/apps/web/src/App.tsx",lineNumber:1264,columnNumber:17},globalThis)},void 0,!1,{fileName:"/home/ubuntu/src/vibe-coder/apps/web/src/App.tsx",lineNumber:1258,columnNumber:15},globalThis),x.jsxDEV("button",{onClick:()=>{y.current&&y.current.write("[A")},className:"touch-friendly glass-morphism rounded-md w-6 h-6 flex items-center justify-center ml-2",title:"Cursor Up",disabled:I,children:x.jsxDEV(d,{className:"w-4 h-4"},void 0,!1,{fileName:"/home/ubuntu/src/vibe-coder/apps/web/src/App.tsx",lineNumber:1276,columnNumber:17},globalThis)},void 0,!1,{fileName:"/home/ubuntu/src/vibe-coder/apps/web/src/App.tsx",lineNumber:1266,columnNumber:15},globalThis),x.jsxDEV("button",{onClick:()=>{y.current&&y.current.write("[B")},className:"touch-friendly glass-morphism rounded-md w-6 h-6 flex items-center justify-center",title:"Cursor Down",disabled:I,children:x.jsxDEV(p,{className:"w-4 h-4"},void 0,!1,{fileName:"/home/ubuntu/src/vibe-coder/apps/web/src/App.tsx",lineNumber:1288,columnNumber:17},globalThis)},void 0,!1,{fileName:"/home/ubuntu/src/vibe-coder/apps/web/src/App.tsx",lineNumber:1278,columnNumber:15},globalThis),x.jsxDEV("button",{onClick:()=>{if(g.voiceSupported&&_.current)if(g.isRecording)_.current.stop();else try{_.current.start()}catch(e){console.error("Failed to start voice recognition:",e),y.current&&y.current.write("\r\n❌ Voice recognition failed to start\r\n")}},className:`ml-2 touch-friendly rounded-full backdrop-blur-sm transition-all ${g.isRecording?"bg-red-500 pulse-recording":"glass-morphism hover:bg-white/20"} ${g.voiceSupported?"":"opacity-50 cursor-not-allowed"}`,title:g.voiceSupported?g.isRecording?"Stop recording":"Start voice input":"Voice input not supported",disabled:!g.voiceSupported,children:x.jsxDEV(h,{className:"w-4 h-4"},void 0,!1,{fileName:"/home/ubuntu/src/vibe-coder/apps/web/src/App.tsx",lineNumber:1302,columnNumber:17},globalThis)},void 0,!1,{fileName:"/home/ubuntu/src/vibe-coder/apps/web/src/App.tsx",lineNumber:1290,columnNumber:15},globalThis)]},void 0,!0,{fileName:"/home/ubuntu/src/vibe-coder/apps/web/src/App.tsx",lineNumber:1247,columnNumber:13},globalThis)},void 0,!1,{fileName:"/home/ubuntu/src/vibe-coder/apps/web/src/App.tsx",lineNumber:1244,columnNumber:11},globalThis),x.jsxDEV("div",{className:"relative z-10 glass-morphism border-t border-white/10 pb-3 flex flex-col flex-shrink-0 "+(I?"opacity-50 pointer-events-none":""),children:x.jsxDEV("div",{className:"p-3 flex-1",children:[x.jsxDEV("div",{className:"flex items-center justify-between h-full",children:[x.jsxDEV("button",{onClick:()=>A("left"),disabled:0===g.currentCommandIndex,className:"touch-friendly rounded-full transition-colors "+(0===g.currentCommandIndex?"bg-gray-700 text-gray-500":"glass-morphism text-white hover:bg-white/20"),children:x.jsxDEV(m,{className:"w-4 h-4"},void 0,!1,{fileName:"/home/ubuntu/src/vibe-coder/apps/web/src/App.tsx",lineNumber:1318,columnNumber:19},globalThis)},void 0,!1,{fileName:"/home/ubuntu/src/vibe-coder/apps/web/src/App.tsx",lineNumber:1313,columnNumber:17},globalThis),x.jsxDEV("div",{className:"flex-1 mx-3 overflow-hidden",children:x.jsxDEV("div",{className:"flex transition-transform duration-300 ease-out",children:S.map((e,t)=>x.jsxDEV("button",{onClick:()=>E(e.command),className:"flex-shrink-0 w-16 flex flex-col items-center p-2 mx-1 glass-morphism rounded-lg hover:bg-white/10 transition-all touch-friendly no-select",children:[x.jsxDEV("span",{className:"text-xl mb-1",children:e.icon},void 0,!1,{fileName:"/home/ubuntu/src/vibe-coder/apps/web/src/App.tsx",lineNumber:1329,columnNumber:25},globalThis),x.jsxDEV("span",{className:"text-xs font-medium text-center leading-tight",children:e.label},void 0,!1,{fileName:"/home/ubuntu/src/vibe-coder/apps/web/src/App.tsx",lineNumber:1330,columnNumber:25},globalThis)]},g.currentCommandIndex+t,!0,{fileName:"/home/ubuntu/src/vibe-coder/apps/web/src/App.tsx",lineNumber:1324,columnNumber:23},globalThis))},void 0,!1,{fileName:"/home/ubuntu/src/vibe-coder/apps/web/src/App.tsx",lineNumber:1322,columnNumber:19},globalThis)},void 0,!1,{fileName:"/home/ubuntu/src/vibe-coder/apps/web/src/App.tsx",lineNumber:1321,columnNumber:17},globalThis),x.jsxDEV("button",{onClick:()=>A("right"),disabled:g.currentCommandIndex>=j.length-5,className:"touch-friendly rounded-full transition-colors "+(g.currentCommandIndex>=j.length-5?"bg-gray-700 text-gray-500":"glass-morphism text-white hover:bg-white/20"),children:x.jsxDEV(f,{className:"w-4 h-4"},void 0,!1,{fileName:"/home/ubuntu/src/vibe-coder/apps/web/src/App.tsx",lineNumber:1345,columnNumber:19},globalThis)},void 0,!1,{fileName:"/home/ubuntu/src/vibe-coder/apps/web/src/App.tsx",lineNumber:1338,columnNumber:17},globalThis)]},void 0,!0,{fileName:"/home/ubuntu/src/vibe-coder/apps/web/src/App.tsx",lineNumber:1312,columnNumber:15},globalThis),x.jsxDEV("div",{className:"flex justify-center mt-1 space-x-1",children:Array.from({length:Math.ceil(j.length/5)}).map((e,t)=>x.jsxDEV("div",{className:"w-1 h-1 rounded-full transition-colors "+(Math.floor(g.currentCommandIndex/5)===t?"bg-white":"bg-white/30")},t,!1,{fileName:"/home/ubuntu/src/vibe-coder/apps/web/src/App.tsx",lineNumber:1353,columnNumber:19},globalThis))},void 0,!1,{fileName:"/home/ubuntu/src/vibe-coder/apps/web/src/App.tsx",lineNumber:1349,columnNumber:15},globalThis)]},void 0,!0,{fileName:"/home/ubuntu/src/vibe-coder/apps/web/src/App.tsx",lineNumber:1311,columnNumber:13},globalThis)},void 0,!1,{fileName:"/home/ubuntu/src/vibe-coder/apps/web/src/App.tsx",lineNumber:1308,columnNumber:11},globalThis)]},void 0,!0,{fileName:"/home/ubuntu/src/vibe-coder/apps/web/src/App.tsx",lineNumber:1218,columnNumber:9},globalThis),g.showSettings&&x.jsxDEV("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:x.jsxDEV("div",{className:"glass-morphism rounded-xl p-4 w-full max-w-sm max-h-[80vh] overflow-hidden flex flex-col",children:[x.jsxDEV("div",{className:"flex items-center justify-between mb-4",children:[x.jsxDEV("h3",{className:"text-lg font-bold",children:"Settings"},void 0,!1,{fileName:"/home/ubuntu/src/vibe-coder/apps/web/src/App.tsx",lineNumber:1369,columnNumber:15},globalThis),x.jsxDEV("button",{onClick:()=>b(e=>({...e,showSettings:!1})),className:"text-gray-400 hover:text-white touch-friendly",children:"✕"},void 0,!1,{fileName:"/home/ubuntu/src/vibe-coder/apps/web/src/App.tsx",lineNumber:1370,columnNumber:15},globalThis)]},void 0,!0,{fileName:"/home/ubuntu/src/vibe-coder/apps/web/src/App.tsx",lineNumber:1368,columnNumber:13},globalThis),x.jsxDEV("div",{className:"mb-4 p-3 bg-white/5 rounded-lg",children:[x.jsxDEV("h4",{className:"font-medium mb-2",children:"Voice Recognition"},void 0,!1,{fileName:"/home/ubuntu/src/vibe-coder/apps/web/src/App.tsx",lineNumber:1381,columnNumber:15},globalThis),x.jsxDEV("div",{className:"flex items-center space-x-2",children:[x.jsxDEV("div",{className:"w-2 h-2 rounded-full "+(g.voiceSupported?"bg-green-400":"bg-red-400")},void 0,!1,{fileName:"/home/ubuntu/src/vibe-coder/apps/web/src/App.tsx",lineNumber:1383,columnNumber:17},globalThis),x.jsxDEV("span",{className:"text-sm",children:g.voiceSupported?"Available":"Not supported"},void 0,!1,{fileName:"/home/ubuntu/src/vibe-coder/apps/web/src/App.tsx",lineNumber:1386,columnNumber:17},globalThis)]},void 0,!0,{fileName:"/home/ubuntu/src/vibe-coder/apps/web/src/App.tsx",lineNumber:1382,columnNumber:15},globalThis),x.jsxDEV("p",{className:"text-xs opacity-60 mt-1",children:g.voiceSupported?"Tap microphone button and speak commands in Japanese or English":"Voice recognition is not supported in this browser"},void 0,!1,{fileName:"/home/ubuntu/src/vibe-coder/apps/web/src/App.tsx",lineNumber:1390,columnNumber:15},globalThis)]},void 0,!0,{fileName:"/home/ubuntu/src/vibe-coder/apps/web/src/App.tsx",lineNumber:1380,columnNumber:13},globalThis),x.jsxDEV("h4",{className:"font-medium mb-2",children:"Command Playlists"},void 0,!1,{fileName:"/home/ubuntu/src/vibe-coder/apps/web/src/App.tsx",lineNumber:1397,columnNumber:13},globalThis),x.jsxDEV("div",{className:"space-y-2 flex-1 overflow-y-auto mb-4",children:[x.jsxDEV("div",{className:"w-full p-3 rounded-lg text-left bg-blue-600 text-white",children:x.jsxDEV("div",{className:"flex items-start space-x-3",children:[x.jsxDEV("span",{className:"text-lg",children:"🤖"},void 0,!1,{fileName:"/home/ubuntu/src/vibe-coder/apps/web/src/App.tsx",lineNumber:1401,columnNumber:19},globalThis),x.jsxDEV("div",{className:"flex-1 min-w-0",children:[x.jsxDEV("div",{className:"font-medium text-sm",children:pt.name},void 0,!1,{fileName:"/home/ubuntu/src/vibe-coder/apps/web/src/App.tsx",lineNumber:1403,columnNumber:21},globalThis),x.jsxDEV("div",{className:"text-xs opacity-80",children:"Built-in"},void 0,!1,{fileName:"/home/ubuntu/src/vibe-coder/apps/web/src/App.tsx",lineNumber:1406,columnNumber:21},globalThis),x.jsxDEV("div",{className:"text-xs opacity-60 mt-1",children:pt.description},void 0,!1,{fileName:"/home/ubuntu/src/vibe-coder/apps/web/src/App.tsx",lineNumber:1407,columnNumber:21},globalThis)]},void 0,!0,{fileName:"/home/ubuntu/src/vibe-coder/apps/web/src/App.tsx",lineNumber:1402,columnNumber:19},globalThis)]},void 0,!0,{fileName:"/home/ubuntu/src/vibe-coder/apps/web/src/App.tsx",lineNumber:1400,columnNumber:17},globalThis)},void 0,!1,{fileName:"/home/ubuntu/src/vibe-coder/apps/web/src/App.tsx",lineNumber:1399,columnNumber:15},globalThis),x.jsxDEV("button",{className:"w-full p-3 rounded-lg text-left bg-gray-700 hover:bg-gray-600 transition-colors border-2 border-dashed border-gray-500",children:x.jsxDEV("div",{className:"flex items-center justify-center space-x-2",children:[x.jsxDEV("span",{className:"text-lg",children:"📁"},void 0,!1,{fileName:"/home/ubuntu/src/vibe-coder/apps/web/src/App.tsx",lineNumber:1416,columnNumber:19},globalThis),x.jsxDEV("span",{className:"text-sm",children:"Upload Playlist JSON"},void 0,!1,{fileName:"/home/ubuntu/src/vibe-coder/apps/web/src/App.tsx",lineNumber:1417,columnNumber:19},globalThis)]},void 0,!0,{fileName:"/home/ubuntu/src/vibe-coder/apps/web/src/App.tsx",lineNumber:1415,columnNumber:17},globalThis)},void 0,!1,{fileName:"/home/ubuntu/src/vibe-coder/apps/web/src/App.tsx",lineNumber:1414,columnNumber:15},globalThis)]},void 0,!0,{fileName:"/home/ubuntu/src/vibe-coder/apps/web/src/App.tsx",lineNumber:1398,columnNumber:13},globalThis)]},void 0,!0,{fileName:"/home/ubuntu/src/vibe-coder/apps/web/src/App.tsx",lineNumber:1367,columnNumber:11},globalThis)},void 0,!1,{fileName:"/home/ubuntu/src/vibe-coder/apps/web/src/App.tsx",lineNumber:1366,columnNumber:9},globalThis)]},void 0,!0,{fileName:"/home/ubuntu/src/vibe-coder/apps/web/src/App.tsx",lineNumber:1165,columnNumber:5},globalThis)};w.createRoot(document.getElementById("root")).render(x.jsxDEV(n.StrictMode,{children:x.jsxDEV(Kn,{},void 0,!1,{fileName:"/home/ubuntu/src/vibe-coder/apps/web/src/main.tsx",lineNumber:8,columnNumber:5},globalThis)},void 0,!1,{fileName:"/home/ubuntu/src/vibe-coder/apps/web/src/main.tsx",lineNumber:7,columnNumber:3},globalThis));
